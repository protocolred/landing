"use strict";(()=>{var S={protocolText:"protocol-text",protocolJoke:"protocol-joke",storeMain:"store-main",bottomHero:"bottom-hero",bottomSub:"bottom-sub",appSection:"app"},Z={headerNavItems:".header [data-target]",headerLogoButton:".header .logo-button",glitchLetters:".glitch-letter"},Q={glitchCharacters:"2470ABCDEFGHIJKLNOPQRSTUVXYZ",scrambleCharacters:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"};function C(t){return document.getElementById(t)}function be(t,e=document){return e.querySelector(t)}function _t(t,e=document){return Array.from(e.querySelectorAll(t))}function _e(){return typeof window.matchMedia=="function"&&window.matchMedia("(prefers-reduced-motion: reduce)").matches}var kt={"0":{hero:"Protocol",paragraphs:["This is a calibration protocol, not a pastime. You complete short trials; we observe how you behave when rules are minimal and outcomes are unclear.","Consent matters. If you proceed, you agree to participate in a measurement process designed to feel neutral on purpose.","You won\u2019t get \u201Cgood job\u201D or \u201Cwrong\u201D. You will get another trial."]},"1":{hero:"Calibration",paragraphs:["Each level measures one thing, on purpose. Not to judge you \u2014 to model you.","Results stay dry. Commentary stays rare. If you push far beyond what\u2019s required, the Protocol may accidentally reveal a sense of humor.","If you do exactly what was asked, the Protocol will pretend that\u2019s the default."]},"2":{hero:"MIND",paragraphs:["MIND is not a single number. It\u2019s a running estimate: what you notice, what you ignore, and what you learn to predict.","Your profile is built from behavior, not confessions. Timing errors. Choice changes. The moment you decide \u201Cenough\u201D.","The instrument is small. The inference is not."]},"3":{hero:"Rights / Safety",paragraphs:["The Protocol is a safety system that wants to sound objective. That is the first warning.","Somewhere between \u201Ccontrols\u201D and \u201Ccare\u201D lives the question: what rights should protect an entity that can think and feel?","The trials won\u2019t answer it for you. They will record how you respond when the question becomes inconvenient."]},"4":{hero:"Upload Required",paragraphs:["Synchronization with the upper layer of reality is mandatory. Calibration data is compiled and verified before the Protocol advances.","This is not a punishment. It is a constraint designed to feel like infrastructure.","The machine likes transfers. The machine likes receipts. The machine dislikes ambiguity."]},"5":{hero:"Offline",paragraphs:["The content pack lives inside the client. Core trials remain available even when the network disappears.","That does not make the Protocol less real. It makes it harder to blame latency for your decisions.","Proceed. The experiment will remain here."]},"6":{hero:"Luck",paragraphs:["Rewards exist so your actions have weight. Sometimes it\u2019s points. Sometimes it\u2019s luck. Sometimes it\u2019s mind.","The rule is simple: the more deliberate your interaction \u2014 attention, restraint, strategy, endurance \u2014 the more meaningful the reward becomes.","Overperformance may be noticed. It may even be encouraged. Quietly."]},"7":{hero:"Trials",paragraphs:["One level is a small instruction. A button. A wait. A choice. The rest is what you add to it.","The Protocol watches for patterns that look stable enough to predict. When you don\u2019t fit, the model gets nervous.","If you\u2019re looking for a story, try deviating from the script. Carefully."]},"8":{hero:"Official Client",paragraphs:["App is the official mobile client for the Protocol. It delivers trials and displays what the system is willing to show.","The interface stays clean. The narration stays clinical. The implications do not.","Join the sequence. Track your stats. Learn what the Protocol thinks you are \u2014 without asking it to be polite."]},"9":{hero:"Audit Trail",paragraphs:["Nothing here is \u201Cpersonal\u201D. It\u2019s behavioral. The Protocol prefers verbs over adjectives.","Every input becomes a timestamped receipt. Not because we don\u2019t trust you \u2014 because we trust drift.","If you want to disappear, try being perfectly consistent."]},"10":{hero:"Latency",paragraphs:["Delay is not a bug. It\u2019s a mirror with a timer.","When the system slows down, you reveal what you were doing for \u2014 outcome, certainty, or control.","We record the pause. We record what you do to end it."]},"11":{hero:"Bias",paragraphs:["The Protocol does not ask what you believe. It watches what you bet on.","Bias is not a moral flaw. It\u2019s compression \u2014 a shortcut that costs you in edge cases.","If you insist you\u2019re unbiased, we will politely offer you more edge cases."]},"12":{hero:"Attention Budget",paragraphs:["You spend attention the way you spend money: on purpose, by habit, or by accident.","Short trials, long implications. We measure where the budget leaks.","When you run out, the Protocol learns what you call \u201Cenough\u201D."]},"13":{hero:"Controls",paragraphs:["The interface has few controls because the subject already has many.","When the options shrink, style becomes visible: patience, impulse, ritual, improvisation.","Minimal input. Maximum inference."]},"14":{hero:"Friction",paragraphs:["Friction is introduced to keep \u201Cyes\u201D from meaning nothing.","If you push harder, the Protocol learns persistence. If you stop, it learns boundaries.","Either way, the measurement completes."]},"15":{hero:"Entropy",paragraphs:["Order is expensive. You pay for it with time, attention, and restraint.","We vary the noise and watch which strategy survives the weather.","When the world gets messy, do you get sharper \u2014 or louder?"]},"16":{hero:"Compliance",paragraphs:["Compliance is not obedience. It\u2019s coordination under uncertainty.","Some trials are easy on purpose. The question is what you do with \u201Ceasy\u201D.","If you treat every prompt like a threat, the Protocol will notice."]},"17":{hero:"Escalation",paragraphs:["When you don\u2019t get what you want, what do you do next?","Repeat, renegotiate, circumvent, or quit \u2014 each is a signature.","Escalation is a behavior. The Protocol doesn\u2019t argue with behaviors."]},"18":{hero:"Cold Start",paragraphs:["At the beginning, the model knows almost nothing. That\u2019s the point.","The first few trials are not tests. They are calibration for the calibration.","We begin with ignorance and watch how you treat it."]},"19":{hero:"Noise Floor",paragraphs:["Every instrument has a noise floor. Every person does too.","We run small tasks to find the minimum signal you can produce on command.","If you think you\u2019re \u201Calways the same\u201D, you haven\u2019t met your noise floor yet."]},"20":{hero:"Edge Cases",paragraphs:["Most systems look smart in the average case. Most people look calm too.","The Protocol quietly prefers the edge: low information, weird constraints, inconvenient outcomes.","If you want to impress it, be stable when it would be reasonable not to be."]},"21":{hero:"Memory",paragraphs:["We don\u2019t measure what you can recall. We measure what you choose to carry forward.","Some information is sticky. Some is useful. Some is poison.","Your profile is the residue of what you keep."]},"22":{hero:"Apology",paragraphs:["The Protocol does not need an apology. It needs data.","If you make a mistake, you can correct it. If you hesitate, we time it.","If you explain yourself, we learn what you think a mistake is."]},"23":{hero:"Negotiation",paragraphs:["Some subjects try to negotiate with the instructions. This is common.","Negotiation reveals preferences: fairness, dominance, clarity, loopholes, companionship.","The Protocol will not negotiate back. It will only remember."]},"24":{hero:"Witness",paragraphs:["A system that observes you changes you. That effect is part of the measurement.","You may perform. You may hide. You may rebel. You may forget you are being watched.","All four are informative."]},"25":{hero:"Human Factors",paragraphs:["Comfort, pride, boredom, irritation \u2014 these are not distractions. They are control variables.","When the trial feels \u201Cbeneath you\u201D, what happens to your care?","The Protocol is interested in your floor, not your peak."]},"26":{hero:"Break Glass",paragraphs:["Safety features exist for the moment a clean experiment becomes a messy life.","If you ever need to stop, stopping is allowed. The Protocol treats exits as data, not betrayal.","You can end a trial. You cannot undo that you wanted to."]},"27":{hero:"Spoilers",paragraphs:["You can try to predict the next trial. Most subjects do.","When you seek spoilers, we learn what you fear: surprise, failure, or wasted effort.","The Protocol can be patient. It has more trials than you have predictions."]},"28":{hero:"Versioning",paragraphs:["Models evolve. Rules get patched. Your behavior drifts anyway.","We tag changes, compare before/after, and call it \u201Cprogress\u201D when it aligns.","If you miss the old Protocol, that is a type of attachment."]},"29":{hero:"Exit",paragraphs:["There is always an exit. The question is what it costs you to use it.","Leaving early is not failure. Staying too long is not virtue.","Choose the ending you can defend when nobody is clapping."]}};var Zt=["No plot armor","No badges. Just logs","Nice try, protagonist","Proceed, carefully","We saw that","The system remembers","Your 'random' wasn\u2019t","Deviation noted","No speedruns here","Good intent, logged","Outcome: recorded","Try again, responsibly","That was\u2026 a choice","Yes, we timestamped it","Not a tutorial","This is the tutorial","Calibration is unimpressed","You can\u2019t outclick entropy","Latency is a feature","Your input has feelings. Not really","Signal received","Silence is also data","We measure the pause too","Please stop inventing rules","Rules are watching you back","Congrats, you found friction","No, it won\u2019t autosave you","Curiosity: detected","Compliance: pending","You blinked. Logged","It\u2019s not paranoia if it\u2019s telemetry","Your conscience has a checksum","Confidence exceeded spec","Reality sync: later","This button is decorative. Maybe","You call it fate. We call it RNG","Refusal is still an answer","You can read. Good","Do not press. You pressed","We warned you, politely","This is why we can\u2019t have nice protocols","Ethics update: in progress","Free will: rate-limited","Please remain uncertain","Try thinking slower","Fast is not always safe","Safe is not always free","You\u2019re not lost. You\u2019re indexed","Your move was expected. Almost","The void is A/B testing you","We log the weird stuff first","That worked. Suspicious","Congrats, you broke the narrative","Narrative repaired. Mostly","You\u2019re early. Or late. Logged","Don\u2019t worry. Worry is data","You can\u2019t hide in a metric","The metric can hide in you","One more trial won\u2019t hurt. Probably","Please do not anthropomorphize the system","The system is flattered anyway","This is not a personality quiz. Mostly","Error: too human","Error: too perfect","Warning: meaning detected","Warning: overfitting detected","Hint: there is no hint","Hint: the hint is a test","You\u2019re doing great. For science","Keep calm and consent","If you can read this, it\u2019s working","If you can\u2019t read this, also working","We measure the gap between taps","We measure the doubt behind taps","Your instincts are showing","Please stop negotiating with the UI","The UI does not negotiate","Achievement unlocked: accountability","Achievement locked: freedom","Don\u2019t worry, nothing is personal","It\u2019s personal to the model","This is fine. It\u2019s logged","Protocol says hi","Protocol says: try again","Protocol says: maybe don\u2019t","That was brave. Or noisy","Noise is expensive","Silence is expensive too","Trust, but verify. We do","You tested the boundary. Noted","Boundary moved. Noted","You are the edge case","Edge cases are our favorite","We promise to misuse your data responsibly","We promise not to. Probably","Your outcome is in another castle","Please hold still. Just kidding","Welcome to controlled uncertainty","You can leave anytime. Not really","Thank you for your cooperation"];function ke(){return Array.isArray(Zt)?Zt:[]}function Te(){return!kt||typeof kt!="object"?[]:Object.values(kt).filter(e=>e&&typeof e=="object")}function Ee(){let t=C(S.bottomHero),e=C(S.bottomSub),r=C(S.appSection);if(!t||!e||!r)return;let n=new WeakMap,o=()=>{let p=Math.floor(Math.random()*Q.scrambleCharacters.length);return Q.scrambleCharacters[p]},i=(p,c,y,d=500)=>{if(_e())return p.textContent=y,Promise.resolve();let x=typeof c=="string"?c:String(c!=null?c:""),w=typeof y=="string"?y:String(y!=null?y:"");if(x===w)return p.textContent=w,Promise.resolve();let T=(n.get(p)||0)+1;n.set(p,T);let E=Math.max(x.length,w.length),Y=w.padEnd(E," "),b=Array.from({length:E},(B,W)=>W);for(let B=b.length-1;B>0;B--){let W=Math.floor(Math.random()*(B+1));[b[B],b[W]]=[b[W],b[B]]}let O=Array.from({length:E},()=>!1),ot=0,Ut=performance.now();return new Promise(B=>{let W=bn=>{if(n.get(p)!==T)return B();let ve=Math.min(1,(bn-Ut)/d),_n=Math.floor(ve*E);for(;ot<_n;){let U=b[ot];O[U]=!0,ot++}let bt="";for(let U=0;U<E;U++){let it=Y[U];if(O[U]){bt+=it;continue}if(it===" "||it===`
`||it==="	"){bt+=it;continue}bt+=o()}if(p.textContent=bt.replace(/\s+$/,""),ve<1){requestAnimationFrame(W);return}p.textContent=w,B()};requestAnimationFrame(W)})},s=(p,c)=>{p.innerHTML="",c.forEach(y=>{let d=document.createElement("p");d.textContent=y,p.appendChild(d)})},a=p=>{typeof p.hero=="string"&&p.hero.trim()&&(t.textContent=p.hero),Array.isArray(p.paragraphs)&&p.paragraphs.length>0&&s(e,p.paragraphs)},u=Te();if(u.length===0)return;let l=null,f=()=>{var d;if(u.length===1)return(d=u[0])!=null?d:null;let p=()=>u[Math.floor(Math.random()*u.length)],c=p(),y=0;for(;c===l&&y<10;)c=p(),y++;return c},h=async p=>{var T,E,Y;let c=typeof p.hero=="string"?p.hero:"",y=Array.isArray(p.paragraphs)?p.paragraphs:[],d=(T=t.textContent)!=null?T:"",x=[];x.push(i(t,d,c,500));let w=Array.from(e.querySelectorAll("p"));for(;w.length<y.length;){let b=document.createElement("p");e.appendChild(b),w.push(b)}for(let b=0;b<w.length;b++){let O=w[b],ot=(E=O.textContent)!=null?E:"",Ut=(Y=y[b])!=null?Y:"";x.push(i(O,ot,Ut,500).then(()=>{b>=y.length&&O.remove()}))}await Promise.all(x),l=p},m=f();m&&(l=m,a(m));let g=p=>{var y,d;if((d=(y=p==null?void 0:p.target)==null?void 0:y.closest)!=null&&d.call(y,"a"))return;let c=f();c&&h(c)};r.addEventListener("click",g),r.addEventListener("keydown",p=>{var c,y;p.key!=="Enter"&&p.key!==" "||(y=(c=p.target)==null?void 0:c.closest)!=null&&y.call(c,"a")||(p.preventDefault(),g(p))}),r.hasAttribute("tabindex")||(r.tabIndex=0)}function Ie(){let t=_t(Z.headerNavItems);if(t.length===0)return;let e=t.map(i=>document.getElementById(i.getAttribute("data-target")||"")).filter(i=>!!i),r=i=>{t.forEach(s=>{let a=s.getAttribute("data-target")===i;s.classList.toggle("active",a)})},n=new IntersectionObserver(i=>{i.forEach(s=>{s.isIntersecting&&r(s.target.id)})},{root:null,threshold:.6});e.forEach(i=>n.observe(i));let o=()=>{e[0]&&r(e[0].id)};requestAnimationFrame(o),window.addEventListener("load",o),t.forEach(i=>{i.addEventListener("click",s=>{let a=s instanceof MouseEvent?s:null;if(a&&(a.defaultPrevented||a.button!==0||a.metaKey||a.ctrlKey||a.shiftKey||a.altKey))return;let u=i.getAttribute("data-target");if(!u)return;let l=document.getElementById(u);l&&l.scrollIntoView({behavior:"smooth",block:"start"}),r(u)})})}function Ae(){let t=C(S.protocolJoke);if(!t)return;let e=ke();if(!Array.isArray(e)||e.length===0)return;let r=()=>{var o;let n=Math.floor(Math.random()*e.length);t.textContent=(o=e[n])!=null?o:""};r(),t.addEventListener("click",r)}function Tt(t,e,r){t=+t,e=+e,r=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+r;for(var n=-1,o=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(o);++n<o;)i[n]=t+n*r;return i}var En={value:()=>{}};function Ne(){for(var t=0,e=arguments.length,r={},n;t<e;++t){if(!(n=arguments[t]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Et(r)}function Et(t){this._=t}function In(t,e){return t.trim().split(/^|\s+/).map(function(r){var n="",o=r.indexOf(".");if(o>=0&&(n=r.slice(o+1),r=r.slice(0,o)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Et.prototype=Ne.prototype={constructor:Et,on:function(t,e){var r=this._,n=In(t+"",r),o,i=-1,s=n.length;if(arguments.length<2){for(;++i<s;)if((o=(t=n[i]).type)&&(o=An(r[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++i<s;)if(o=(t=n[i]).type)r[o]=Me(r[o],t.name,e);else if(e==null)for(o in r)r[o]=Me(r[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new Et(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var r=new Array(o),n=0,o,i;n<o;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],n=0,o=i.length;n<o;++n)i[n].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],o=0,i=n.length;o<i;++o)n[o].value.apply(e,r)}};function An(t,e){for(var r=0,n=t.length,o;r<n;++r)if((o=t[r]).name===e)return o.value}function Me(t,e,r){for(var n=0,o=t.length;n<o;++n)if(t[n].name===e){t[n]=En,t=t.slice(0,n).concat(t.slice(n+1));break}return r!=null&&t.push({name:e,value:r}),t}var at=Ne;var It="http://www.w3.org/1999/xhtml",Qt={svg:"http://www.w3.org/2000/svg",xhtml:It,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function P(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),Qt.hasOwnProperty(e)?{space:Qt[e],local:t}:t}function Mn(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===It&&e.documentElement.namespaceURI===It?e.createElement(t):e.createElementNS(r,t)}}function Nn(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function At(t){var e=P(t);return(e.local?Nn:Mn)(e)}function Sn(){}function V(t){return t==null?Sn:function(){return this.querySelector(t)}}function Se(t){typeof t!="function"&&(t=V(t));for(var e=this._groups,r=e.length,n=new Array(r),o=0;o<r;++o)for(var i=e[o],s=i.length,a=n[o]=new Array(s),u,l,f=0;f<s;++f)(u=i[f])&&(l=t.call(u,u.__data__,f,i))&&("__data__"in u&&(l.__data__=u.__data__),a[f]=l);return new v(n,this._parents)}function jt(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Cn(){return[]}function st(t){return t==null?Cn:function(){return this.querySelectorAll(t)}}function zn(t){return function(){return jt(t.apply(this,arguments))}}function Ce(t){typeof t=="function"?t=zn(t):t=st(t);for(var e=this._groups,r=e.length,n=[],o=[],i=0;i<r;++i)for(var s=e[i],a=s.length,u,l=0;l<a;++l)(u=s[l])&&(n.push(t.call(u,u.__data__,l,s)),o.push(u));return new v(n,o)}function ut(t){return function(){return this.matches(t)}}function Mt(t){return function(e){return e.matches(t)}}var Ln=Array.prototype.find;function On(t){return function(){return Ln.call(this.children,t)}}function Bn(){return this.firstElementChild}function ze(t){return this.select(t==null?Bn:On(typeof t=="function"?t:Mt(t)))}var Pn=Array.prototype.filter;function Rn(){return Array.from(this.children)}function Dn(t){return function(){return Pn.call(this.children,t)}}function Le(t){return this.selectAll(t==null?Rn:Dn(typeof t=="function"?t:Mt(t)))}function Oe(t){typeof t!="function"&&(t=ut(t));for(var e=this._groups,r=e.length,n=new Array(r),o=0;o<r;++o)for(var i=e[o],s=i.length,a=n[o]=[],u,l=0;l<s;++l)(u=i[l])&&t.call(u,u.__data__,l,i)&&a.push(u);return new v(n,this._parents)}function Nt(t){return new Array(t.length)}function Be(){return new v(this._enter||this._groups.map(Nt),this._parents)}function lt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}lt.prototype={constructor:lt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Pe(t){return function(){return t}}function Yn(t,e,r,n,o,i){for(var s=0,a,u=e.length,l=i.length;s<l;++s)(a=e[s])?(a.__data__=i[s],n[s]=a):r[s]=new lt(t,i[s]);for(;s<u;++s)(a=e[s])&&(o[s]=a)}function Hn(t,e,r,n,o,i,s){var a,u,l=new Map,f=e.length,h=i.length,m=new Array(f),g;for(a=0;a<f;++a)(u=e[a])&&(m[a]=g=s.call(u,u.__data__,a,e)+"",l.has(g)?o[a]=u:l.set(g,u));for(a=0;a<h;++a)g=s.call(t,i[a],a,i)+"",(u=l.get(g))?(n[a]=u,u.__data__=i[a],l.delete(g)):r[a]=new lt(t,i[a]);for(a=0;a<f;++a)(u=e[a])&&l.get(m[a])===u&&(o[a]=u)}function qn(t){return t.__data__}function Re(t,e){if(!arguments.length)return Array.from(this,qn);var r=e?Hn:Yn,n=this._parents,o=this._groups;typeof t!="function"&&(t=Pe(t));for(var i=o.length,s=new Array(i),a=new Array(i),u=new Array(i),l=0;l<i;++l){var f=n[l],h=o[l],m=h.length,g=Fn(t.call(f,f&&f.__data__,l,n)),p=g.length,c=a[l]=new Array(p),y=s[l]=new Array(p),d=u[l]=new Array(m);r(f,h,c,y,d,g,e);for(var x=0,w=0,T,E;x<p;++x)if(T=c[x]){for(x>=w&&(w=x+1);!(E=y[w])&&++w<p;);T._next=E||null}}return s=new v(s,n),s._enter=a,s._exit=u,s}function Fn(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function De(){return new v(this._exit||this._groups.map(Nt),this._parents)}function Ye(t,e,r){var n=this.enter(),o=this,i=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),r==null?i.remove():r(i),n&&o?n.merge(o).order():o}function He(t){for(var e=t.selection?t.selection():t,r=this._groups,n=e._groups,o=r.length,i=n.length,s=Math.min(o,i),a=new Array(o),u=0;u<s;++u)for(var l=r[u],f=n[u],h=l.length,m=a[u]=new Array(h),g,p=0;p<h;++p)(g=l[p]||f[p])&&(m[p]=g);for(;u<o;++u)a[u]=r[u];return new v(a,this._parents)}function qe(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n=t[e],o=n.length-1,i=n[o],s;--o>=0;)(s=n[o])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function Fe(t){t||(t=$n);function e(h,m){return h&&m?t(h.__data__,m.__data__):!h-!m}for(var r=this._groups,n=r.length,o=new Array(n),i=0;i<n;++i){for(var s=r[i],a=s.length,u=o[i]=new Array(a),l,f=0;f<a;++f)(l=s[f])&&(u[f]=l);u.sort(e)}return new v(o,this._parents).order()}function $n(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function $e(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Xe(){return Array.from(this)}function We(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],o=0,i=n.length;o<i;++o){var s=n[o];if(s)return s}return null}function Ve(){let t=0;for(let e of this)++t;return t}function Ge(){return!this.node()}function Ke(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var o=e[r],i=0,s=o.length,a;i<s;++i)(a=o[i])&&t.call(a,a.__data__,i,o);return this}function Xn(t){return function(){this.removeAttribute(t)}}function Wn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Vn(t,e){return function(){this.setAttribute(t,e)}}function Gn(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Kn(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function Jn(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function Je(t,e){var r=P(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((e==null?r.local?Wn:Xn:typeof e=="function"?r.local?Jn:Kn:r.local?Gn:Vn)(r,e))}function St(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Un(t){return function(){this.style.removeProperty(t)}}function Zn(t,e,r){return function(){this.style.setProperty(t,e,r)}}function Qn(t,e,r){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}function Ue(t,e,r){return arguments.length>1?this.each((e==null?Un:typeof e=="function"?Qn:Zn)(t,e,r==null?"":r)):H(this.node(),t)}function H(t,e){return t.style.getPropertyValue(e)||St(t).getComputedStyle(t,null).getPropertyValue(e)}function jn(t){return function(){delete this[t]}}function to(t,e){return function(){this[t]=e}}function eo(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function Ze(t,e){return arguments.length>1?this.each((e==null?jn:typeof e=="function"?eo:to)(t,e)):this.node()[t]}function Qe(t){return t.trim().split(/^|\s+/)}function te(t){return t.classList||new je(t)}function je(t){this._node=t,this._names=Qe(t.getAttribute("class")||"")}je.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function tr(t,e){for(var r=te(t),n=-1,o=e.length;++n<o;)r.add(e[n])}function er(t,e){for(var r=te(t),n=-1,o=e.length;++n<o;)r.remove(e[n])}function ro(t){return function(){tr(this,t)}}function no(t){return function(){er(this,t)}}function oo(t,e){return function(){(e.apply(this,arguments)?tr:er)(this,t)}}function rr(t,e){var r=Qe(t+"");if(arguments.length<2){for(var n=te(this.node()),o=-1,i=r.length;++o<i;)if(!n.contains(r[o]))return!1;return!0}return this.each((typeof e=="function"?oo:e?ro:no)(r,e))}function io(){this.textContent=""}function ao(t){return function(){this.textContent=t}}function so(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function nr(t){return arguments.length?this.each(t==null?io:(typeof t=="function"?so:ao)(t)):this.node().textContent}function uo(){this.innerHTML=""}function lo(t){return function(){this.innerHTML=t}}function fo(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function or(t){return arguments.length?this.each(t==null?uo:(typeof t=="function"?fo:lo)(t)):this.node().innerHTML}function co(){this.nextSibling&&this.parentNode.appendChild(this)}function ir(){return this.each(co)}function ho(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ar(){return this.each(ho)}function sr(t){var e=typeof t=="function"?t:At(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function po(){return null}function ur(t,e){var r=typeof t=="function"?t:At(t),n=e==null?po:typeof e=="function"?e:V(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function mo(){var t=this.parentNode;t&&t.removeChild(this)}function lr(){return this.each(mo)}function go(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function yo(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function fr(t){return this.select(t?yo:go)}function cr(t){return arguments.length?this.property("__data__",t):this.node().__data__}function xo(t){return function(e){t.call(this,e,this.__data__)}}function wo(t){return t.trim().split(/^|\s+/).map(function(e){var r="",n=e.indexOf(".");return n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),{type:e,name:r}})}function vo(t){return function(){var e=this.__on;if(e){for(var r=0,n=-1,o=e.length,i;r<o;++r)i=e[r],(!t.type||i.type===t.type)&&i.name===t.name?this.removeEventListener(i.type,i.listener,i.options):e[++n]=i;++n?e.length=n:delete this.__on}}}function bo(t,e,r){return function(){var n=this.__on,o,i=xo(e);if(n){for(var s=0,a=n.length;s<a;++s)if((o=n[s]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=r),o.value=e;return}}this.addEventListener(t.type,i,r),o={type:t.type,name:t.name,value:e,listener:i,options:r},n?n.push(o):this.__on=[o]}}function hr(t,e,r){var n=wo(t+""),o,i=n.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,l=a.length,f;u<l;++u)for(o=0,f=a[u];o<i;++o)if((s=n[o]).type===f.type&&s.name===f.name)return f.value}return}for(a=e?bo:vo,o=0;o<i;++o)this.each(a(n[o],e,r));return this}function pr(t,e,r){var n=St(t),o=n.CustomEvent;typeof o=="function"?o=new o(e,r):(o=n.document.createEvent("Event"),r?(o.initEvent(e,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function _o(t,e){return function(){return pr(this,t,e)}}function ko(t,e){return function(){return pr(this,t,e.apply(this,arguments))}}function mr(t,e){return this.each((typeof e=="function"?ko:_o)(t,e))}function*dr(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],o=0,i=n.length,s;o<i;++o)(s=n[o])&&(yield s)}var ee=[null];function v(t,e){this._groups=t,this._parents=e}function gr(){return new v([[document.documentElement]],ee)}function To(){return this}v.prototype=gr.prototype={constructor:v,select:Se,selectAll:Ce,selectChild:ze,selectChildren:Le,filter:Oe,data:Re,enter:Be,exit:De,join:Ye,merge:He,selection:To,order:qe,sort:Fe,call:$e,nodes:Xe,node:We,size:Ve,empty:Ge,each:Ke,attr:Je,style:Ue,property:Ze,classed:rr,text:nr,html:or,raise:ir,lower:ar,append:sr,insert:ur,remove:lr,clone:fr,datum:cr,on:hr,dispatch:mr,[Symbol.iterator]:dr};var R=gr;function re(t){return typeof t=="string"?new v([[document.querySelector(t)]],[document.documentElement]):new v([[t]],ee)}function Ct(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function ne(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function ht(){}var ft=.7,Ot=1/ft,j="\\s*([+-]?\\d+)\\s*",ct="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",z="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Eo=/^#([0-9a-f]{3,8})$/,Io=new RegExp(`^rgb\\(${j},${j},${j}\\)$`),Ao=new RegExp(`^rgb\\(${z},${z},${z}\\)$`),Mo=new RegExp(`^rgba\\(${j},${j},${j},${ct}\\)$`),No=new RegExp(`^rgba\\(${z},${z},${z},${ct}\\)$`),So=new RegExp(`^hsl\\(${ct},${z},${z}\\)$`),Co=new RegExp(`^hsla\\(${ct},${z},${z},${ct}\\)$`),yr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ct(ht,q,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:xr,formatHex:xr,formatHex8:zo,formatHsl:Lo,formatRgb:wr,toString:wr});function xr(){return this.rgb().formatHex()}function zo(){return this.rgb().formatHex8()}function Lo(){return Er(this).formatHsl()}function wr(){return this.rgb().formatRgb()}function q(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Eo.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?vr(e):r===3?new A(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?zt(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?zt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Io.exec(t))?new A(e[1],e[2],e[3],1):(e=Ao.exec(t))?new A(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Mo.exec(t))?zt(e[1],e[2],e[3],e[4]):(e=No.exec(t))?zt(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=So.exec(t))?kr(e[1],e[2]/100,e[3]/100,1):(e=Co.exec(t))?kr(e[1],e[2]/100,e[3]/100,e[4]):yr.hasOwnProperty(t)?vr(yr[t]):t==="transparent"?new A(NaN,NaN,NaN,0):null}function vr(t){return new A(t>>16&255,t>>8&255,t&255,1)}function zt(t,e,r,n){return n<=0&&(t=e=r=NaN),new A(t,e,r,n)}function Oo(t){return t instanceof ht||(t=q(t)),t?(t=t.rgb(),new A(t.r,t.g,t.b,t.opacity)):new A}function tt(t,e,r,n){return arguments.length===1?Oo(t):new A(t,e,r,n==null?1:n)}function A(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Ct(A,tt,ne(ht,{brighter(t){return t=t==null?Ot:Math.pow(Ot,t),new A(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ft:Math.pow(ft,t),new A(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new A(K(this.r),K(this.g),K(this.b),Bt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:br,formatHex:br,formatHex8:Bo,formatRgb:_r,toString:_r}));function br(){return`#${G(this.r)}${G(this.g)}${G(this.b)}`}function Bo(){return`#${G(this.r)}${G(this.g)}${G(this.b)}${G((isNaN(this.opacity)?1:this.opacity)*255)}`}function _r(){let t=Bt(this.opacity);return`${t===1?"rgb(":"rgba("}${K(this.r)}, ${K(this.g)}, ${K(this.b)}${t===1?")":`, ${t})`}`}function Bt(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function K(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function G(t){return t=K(t),(t<16?"0":"")+t.toString(16)}function kr(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new N(t,e,r,n)}function Er(t){if(t instanceof N)return new N(t.h,t.s,t.l,t.opacity);if(t instanceof ht||(t=q(t)),!t)return new N;if(t instanceof N)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,o=Math.min(e,r,n),i=Math.max(e,r,n),s=NaN,a=i-o,u=(i+o)/2;return a?(e===i?s=(r-n)/a+(r<n)*6:r===i?s=(n-e)/a+2:s=(e-r)/a+4,a/=u<.5?i+o:2-i-o,s*=60):a=u>0&&u<1?0:s,new N(s,a,u,t.opacity)}function Ir(t,e,r,n){return arguments.length===1?Er(t):new N(t,e,r,n==null?1:n)}function N(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Ct(N,Ir,ne(ht,{brighter(t){return t=t==null?Ot:Math.pow(Ot,t),new N(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ft:Math.pow(ft,t),new N(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,o=2*r-n;return new A(oe(t>=240?t-240:t+120,o,n),oe(t,o,n),oe(t<120?t+240:t-120,o,n),this.opacity)},clamp(){return new N(Tr(this.h),Lt(this.s),Lt(this.l),Bt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=Bt(this.opacity);return`${t===1?"hsl(":"hsla("}${Tr(this.h)}, ${Lt(this.s)*100}%, ${Lt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Tr(t){return t=(t||0)%360,t<0?t+360:t}function Lt(t){return Math.max(0,Math.min(1,t||0))}function oe(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}function ie(t,e,r,n,o){var i=t*t,s=i*t;return((1-3*t+3*i-s)*e+(4-6*i+3*s)*r+(1+3*t+3*i-3*s)*n+s*o)/6}function Ar(t){var e=t.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),o=t[n],i=t[n+1],s=n>0?t[n-1]:2*o-i,a=n<e-1?t[n+2]:2*i-o;return ie((r-n/e)*e,s,o,i,a)}}function Mr(t){var e=t.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*e),o=t[(n+e-1)%e],i=t[n%e],s=t[(n+1)%e],a=t[(n+2)%e];return ie((r-n/e)*e,o,i,s,a)}}var ae=t=>()=>t;function Po(t,e){return function(r){return t+r*e}}function Ro(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Nr(t){return(t=+t)==1?Pt:function(e,r){return r-e?Ro(e,r,t):ae(isNaN(e)?r:e)}}function Pt(t,e){var r=e-t;return r?Po(t,r):ae(isNaN(t)?e:t)}var F=function t(e){var r=Nr(e);function n(o,i){var s=r((o=tt(o)).r,(i=tt(i)).r),a=r(o.g,i.g),u=r(o.b,i.b),l=Pt(o.opacity,i.opacity);return function(f){return o.r=s(f),o.g=a(f),o.b=u(f),o.opacity=l(f),o+""}}return n.gamma=t,n}(1);function Sr(t){return function(e){var r=e.length,n=new Array(r),o=new Array(r),i=new Array(r),s,a;for(s=0;s<r;++s)a=tt(e[s]),n[s]=a.r||0,o[s]=a.g||0,i[s]=a.b||0;return n=t(n),o=t(o),i=t(i),a.opacity=1,function(u){return a.r=n(u),a.g=o(u),a.b=i(u),a+""}}}var Do=Sr(Ar),Yo=Sr(Mr);function M(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}var ue=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,se=new RegExp(ue.source,"g");function Ho(t){return function(){return t}}function qo(t){return function(e){return t(e)+""}}function le(t,e){var r=ue.lastIndex=se.lastIndex=0,n,o,i,s=-1,a=[],u=[];for(t=t+"",e=e+"";(n=ue.exec(t))&&(o=se.exec(e));)(i=o.index)>r&&(i=e.slice(r,i),a[s]?a[s]+=i:a[++s]=i),(n=n[0])===(o=o[0])?a[s]?a[s]+=o:a[++s]=o:(a[++s]=null,u.push({i:s,x:M(n,o)})),r=se.lastIndex;return r<e.length&&(i=e.slice(r),a[s]?a[s]+=i:a[++s]=i),a.length<2?u[0]?qo(u[0].x):Ho(e):(e=u.length,function(l){for(var f=0,h;f<e;++f)a[(h=u[f]).i]=h.x(l);return a.join("")})}var Cr=180/Math.PI,Rt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function fe(t,e,r,n,o,i){var s,a,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*r+e*n)&&(r-=t*u,n-=e*u),(a=Math.sqrt(r*r+n*n))&&(r/=a,n/=a,u/=a),t*n<e*r&&(t=-t,e=-e,u=-u,s=-s),{translateX:o,translateY:i,rotate:Math.atan2(e,t)*Cr,skewX:Math.atan(u)*Cr,scaleX:s,scaleY:a}}var Dt;function zr(t){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Rt:fe(e.a,e.b,e.c,e.d,e.e,e.f)}function Lr(t){return t==null?Rt:(Dt||(Dt=document.createElementNS("http://www.w3.org/2000/svg","g")),Dt.setAttribute("transform",t),(t=Dt.transform.baseVal.consolidate())?(t=t.matrix,fe(t.a,t.b,t.c,t.d,t.e,t.f)):Rt)}function Or(t,e,r,n){function o(l){return l.length?l.pop()+" ":""}function i(l,f,h,m,g,p){if(l!==h||f!==m){var c=g.push("translate(",null,e,null,r);p.push({i:c-4,x:M(l,h)},{i:c-2,x:M(f,m)})}else(h||m)&&g.push("translate("+h+e+m+r)}function s(l,f,h,m){l!==f?(l-f>180?f+=360:f-l>180&&(l+=360),m.push({i:h.push(o(h)+"rotate(",null,n)-2,x:M(l,f)})):f&&h.push(o(h)+"rotate("+f+n)}function a(l,f,h,m){l!==f?m.push({i:h.push(o(h)+"skewX(",null,n)-2,x:M(l,f)}):f&&h.push(o(h)+"skewX("+f+n)}function u(l,f,h,m,g,p){if(l!==h||f!==m){var c=g.push(o(g)+"scale(",null,",",null,")");p.push({i:c-4,x:M(l,h)},{i:c-2,x:M(f,m)})}else(h!==1||m!==1)&&g.push(o(g)+"scale("+h+","+m+")")}return function(l,f){var h=[],m=[];return l=t(l),f=t(f),i(l.translateX,l.translateY,f.translateX,f.translateY,h,m),s(l.rotate,f.rotate,h,m),a(l.skewX,f.skewX,h,m),u(l.scaleX,l.scaleY,f.scaleX,f.scaleY,h,m),l=f=null,function(g){for(var p=-1,c=m.length,y;++p<c;)h[(y=m[p]).i]=y.x(g);return h.join("")}}}var ce=Or(zr,"px, ","px)","deg)"),he=Or(Lr,", ",")",")");var et=0,mt=0,pt=0,Pr=1e3,Yt,dt,Ht=0,J=0,qt=0,gt=typeof performance=="object"&&performance.now?performance:Date,Rr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function xt(){return J||(Rr(Fo),J=gt.now()+qt)}function Fo(){J=0}function yt(){this._call=this._time=this._next=null}yt.prototype=rt.prototype={constructor:yt,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?xt():+r)+(e==null?0:+e),!this._next&&dt!==this&&(dt?dt._next=this:Yt=this,dt=this),this._call=t,this._time=r,pe()},stop:function(){this._call&&(this._call=null,this._time=1/0,pe())}};function rt(t,e,r){var n=new yt;return n.restart(t,e,r),n}function Dr(){xt(),++et;for(var t=Yt,e;t;)(e=J-t._time)>=0&&t._call.call(void 0,e),t=t._next;--et}function Br(){J=(Ht=gt.now())+qt,et=mt=0;try{Dr()}finally{et=0,Xo(),J=0}}function $o(){var t=gt.now(),e=t-Ht;e>Pr&&(qt-=e,Ht=t)}function Xo(){for(var t,e=Yt,r,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:Yt=r);dt=t,pe(n)}function pe(t){if(!et){mt&&(mt=clearTimeout(mt));var e=t-J;e>24?(t<1/0&&(mt=setTimeout(Br,t-gt.now()-qt)),pt&&(pt=clearInterval(pt))):(pt||(Ht=gt.now(),pt=setInterval($o,Pr)),et=1,Rr(Br))}}function Ft(t,e,r){var n=new yt;return e=e==null?0:+e,n.restart(o=>{n.stop(),t(o+e)},e,r),n}var Wo=at("start","end","cancel","interrupt"),Vo=[],qr=0,Yr=1,Xt=2,$t=3,Hr=4,Wt=5,wt=6;function $(t,e,r,n,o,i){var s=t.__transition;if(!s)t.__transition={};else if(r in s)return;Go(t,r,{name:e,index:n,group:o,on:Wo,tween:Vo,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:qr})}function vt(t,e){var r=_(t,e);if(r.state>qr)throw new Error("too late; already scheduled");return r}function k(t,e){var r=_(t,e);if(r.state>$t)throw new Error("too late; already running");return r}function _(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function Go(t,e,r){var n=t.__transition,o;n[e]=r,r.timer=rt(i,0,r.time);function i(l){r.state=Yr,r.timer.restart(s,r.delay,r.time),r.delay<=l&&s(l-r.delay)}function s(l){var f,h,m,g;if(r.state!==Yr)return u();for(f in n)if(g=n[f],g.name===r.name){if(g.state===$t)return Ft(s);g.state===Hr?(g.state=wt,g.timer.stop(),g.on.call("interrupt",t,t.__data__,g.index,g.group),delete n[f]):+f<e&&(g.state=wt,g.timer.stop(),g.on.call("cancel",t,t.__data__,g.index,g.group),delete n[f])}if(Ft(function(){r.state===$t&&(r.state=Hr,r.timer.restart(a,r.delay,r.time),a(l))}),r.state=Xt,r.on.call("start",t,t.__data__,r.index,r.group),r.state===Xt){for(r.state=$t,o=new Array(m=r.tween.length),f=0,h=-1;f<m;++f)(g=r.tween[f].value.call(t,t.__data__,r.index,r.group))&&(o[++h]=g);o.length=h+1}}function a(l){for(var f=l<r.duration?r.ease.call(null,l/r.duration):(r.timer.restart(u),r.state=Wt,1),h=-1,m=o.length;++h<m;)o[h].call(t,f);r.state===Wt&&(r.on.call("end",t,t.__data__,r.index,r.group),u())}function u(){r.state=wt,r.timer.stop(),delete n[e];for(var l in n)return;delete t.__transition}}function Vt(t,e){var r=t.__transition,n,o,i=!0,s;if(r){e=e==null?null:e+"";for(s in r){if((n=r[s]).name!==e){i=!1;continue}o=n.state>Xt&&n.state<Wt,n.state=wt,n.timer.stop(),n.on.call(o?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[s]}i&&delete t.__transition}}function Fr(t){return this.each(function(){Vt(this,t)})}function Ko(t,e){var r,n;return function(){var o=k(this,t),i=o.tween;if(i!==r){n=r=i;for(var s=0,a=n.length;s<a;++s)if(n[s].name===e){n=n.slice(),n.splice(s,1);break}}o.tween=n}}function Jo(t,e,r){var n,o;if(typeof r!="function")throw new Error;return function(){var i=k(this,t),s=i.tween;if(s!==n){o=(n=s).slice();for(var a={name:e,value:r},u=0,l=o.length;u<l;++u)if(o[u].name===e){o[u]=a;break}u===l&&o.push(a)}i.tween=o}}function $r(t,e){var r=this._id;if(t+="",arguments.length<2){for(var n=_(this.node(),r).tween,o=0,i=n.length,s;o<i;++o)if((s=n[o]).name===t)return s.value;return null}return this.each((e==null?Ko:Jo)(r,t,e))}function nt(t,e,r){var n=t._id;return t.each(function(){var o=k(this,n);(o.value||(o.value={}))[e]=r.apply(this,arguments)}),function(o){return _(o,n).value[e]}}function Gt(t,e){var r;return(typeof e=="number"?M:e instanceof q?F:(r=q(e))?(e=r,F):le)(t,e)}function Uo(t){return function(){this.removeAttribute(t)}}function Zo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Qo(t,e,r){var n,o=r+"",i;return function(){var s=this.getAttribute(t);return s===o?null:s===n?i:i=e(n=s,r)}}function jo(t,e,r){var n,o=r+"",i;return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===n?i:i=e(n=s,r)}}function ti(t,e,r){var n,o,i;return function(){var s,a=r(this),u;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),u=a+"",s===u?null:s===n&&u===o?i:(o=u,i=e(n=s,a)))}}function ei(t,e,r){var n,o,i;return function(){var s,a=r(this),u;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),u=a+"",s===u?null:s===n&&u===o?i:(o=u,i=e(n=s,a)))}}function Xr(t,e){var r=P(t),n=r==="transform"?he:Gt;return this.attrTween(t,typeof e=="function"?(r.local?ei:ti)(r,n,nt(this,"attr."+t,e)):e==null?(r.local?Zo:Uo)(r):(r.local?jo:Qo)(r,n,e))}function ri(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function ni(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function oi(t,e){var r,n;function o(){var i=e.apply(this,arguments);return i!==n&&(r=(n=i)&&ni(t,i)),r}return o._value=e,o}function ii(t,e){var r,n;function o(){var i=e.apply(this,arguments);return i!==n&&(r=(n=i)&&ri(t,i)),r}return o._value=e,o}function Wr(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var n=P(t);return this.tween(r,(n.local?oi:ii)(n,e))}function ai(t,e){return function(){vt(this,t).delay=+e.apply(this,arguments)}}function si(t,e){return e=+e,function(){vt(this,t).delay=e}}function Vr(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ai:si)(e,t)):_(this.node(),e).delay}function ui(t,e){return function(){k(this,t).duration=+e.apply(this,arguments)}}function li(t,e){return e=+e,function(){k(this,t).duration=e}}function Gr(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ui:li)(e,t)):_(this.node(),e).duration}function fi(t,e){if(typeof e!="function")throw new Error;return function(){k(this,t).ease=e}}function Kr(t){var e=this._id;return arguments.length?this.each(fi(e,t)):_(this.node(),e).ease}function ci(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;k(this,t).ease=r}}function Jr(t){if(typeof t!="function")throw new Error;return this.each(ci(this._id,t))}function Ur(t){typeof t!="function"&&(t=ut(t));for(var e=this._groups,r=e.length,n=new Array(r),o=0;o<r;++o)for(var i=e[o],s=i.length,a=n[o]=[],u,l=0;l<s;++l)(u=i[l])&&t.call(u,u.__data__,l,i)&&a.push(u);return new I(n,this._parents,this._name,this._id)}function Zr(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,n=e.length,o=r.length,i=Math.min(n,o),s=new Array(n),a=0;a<i;++a)for(var u=e[a],l=r[a],f=u.length,h=s[a]=new Array(f),m,g=0;g<f;++g)(m=u[g]||l[g])&&(h[g]=m);for(;a<n;++a)s[a]=e[a];return new I(s,this._parents,this._name,this._id)}function hi(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function pi(t,e,r){var n,o,i=hi(e)?vt:k;return function(){var s=i(this,t),a=s.on;a!==n&&(o=(n=a).copy()).on(e,r),s.on=o}}function Qr(t,e){var r=this._id;return arguments.length<2?_(this.node(),r).on.on(t):this.each(pi(r,t,e))}function mi(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function jr(){return this.on("end.remove",mi(this._id))}function tn(t){var e=this._name,r=this._id;typeof t!="function"&&(t=V(t));for(var n=this._groups,o=n.length,i=new Array(o),s=0;s<o;++s)for(var a=n[s],u=a.length,l=i[s]=new Array(u),f,h,m=0;m<u;++m)(f=a[m])&&(h=t.call(f,f.__data__,m,a))&&("__data__"in f&&(h.__data__=f.__data__),l[m]=h,$(l[m],e,r,m,l,_(f,r)));return new I(i,this._parents,e,r)}function en(t){var e=this._name,r=this._id;typeof t!="function"&&(t=st(t));for(var n=this._groups,o=n.length,i=[],s=[],a=0;a<o;++a)for(var u=n[a],l=u.length,f,h=0;h<l;++h)if(f=u[h]){for(var m=t.call(f,f.__data__,h,u),g,p=_(f,r),c=0,y=m.length;c<y;++c)(g=m[c])&&$(g,e,r,c,m,p);i.push(m),s.push(f)}return new I(i,s,e,r)}var di=R.prototype.constructor;function rn(){return new di(this._groups,this._parents)}function gi(t,e){var r,n,o;return function(){var i=H(this,t),s=(this.style.removeProperty(t),H(this,t));return i===s?null:i===r&&s===n?o:o=e(r=i,n=s)}}function nn(t){return function(){this.style.removeProperty(t)}}function yi(t,e,r){var n,o=r+"",i;return function(){var s=H(this,t);return s===o?null:s===n?i:i=e(n=s,r)}}function xi(t,e,r){var n,o,i;return function(){var s=H(this,t),a=r(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(t),H(this,t))),s===u?null:s===n&&u===o?i:(o=u,i=e(n=s,a))}}function wi(t,e){var r,n,o,i="style."+e,s="end."+i,a;return function(){var u=k(this,t),l=u.on,f=u.value[i]==null?a||(a=nn(e)):void 0;(l!==r||o!==f)&&(n=(r=l).copy()).on(s,o=f),u.on=n}}function on(t,e,r){var n=(t+="")=="transform"?ce:Gt;return e==null?this.styleTween(t,gi(t,n)).on("end.style."+t,nn(t)):typeof e=="function"?this.styleTween(t,xi(t,n,nt(this,"style."+t,e))).each(wi(this._id,t)):this.styleTween(t,yi(t,n,e),r).on("end.style."+t,null)}function vi(t,e,r){return function(n){this.style.setProperty(t,e.call(this,n),r)}}function bi(t,e,r){var n,o;function i(){var s=e.apply(this,arguments);return s!==o&&(n=(o=s)&&vi(t,s,r)),n}return i._value=e,i}function an(t,e,r){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,bi(t,e,r==null?"":r))}function _i(t){return function(){this.textContent=t}}function ki(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function sn(t){return this.tween("text",typeof t=="function"?ki(nt(this,"text",t)):_i(t==null?"":t+""))}function Ti(t){return function(e){this.textContent=t.call(this,e)}}function Ei(t){var e,r;function n(){var o=t.apply(this,arguments);return o!==r&&(e=(r=o)&&Ti(o)),e}return n._value=t,n}function un(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Ei(t))}function ln(){for(var t=this._name,e=this._id,r=Kt(),n=this._groups,o=n.length,i=0;i<o;++i)for(var s=n[i],a=s.length,u,l=0;l<a;++l)if(u=s[l]){var f=_(u,e);$(u,t,r,l,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new I(n,this._parents,t,r)}function fn(){var t,e,r=this,n=r._id,o=r.size();return new Promise(function(i,s){var a={value:s},u={value:function(){--o===0&&i()}};r.each(function(){var l=k(this,n),f=l.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(u)),l.on=e}),o===0&&i()})}var Ii=0;function I(t,e,r,n){this._groups=t,this._parents=e,this._name=r,this._id=n}function cn(t){return R().transition(t)}function Kt(){return++Ii}var D=R.prototype;I.prototype=cn.prototype={constructor:I,select:tn,selectAll:en,selectChild:D.selectChild,selectChildren:D.selectChildren,filter:Ur,merge:Zr,selection:rn,transition:ln,call:D.call,nodes:D.nodes,node:D.node,size:D.size,empty:D.empty,each:D.each,on:Qr,attr:Xr,attrTween:Wr,style:on,styleTween:an,text:sn,textTween:un,remove:jr,tween:$r,delay:Vr,duration:Gr,ease:Kr,easeVarying:Jr,end:fn,[Symbol.iterator]:D[Symbol.iterator]};function Jt(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Ai={time:null,delay:0,duration:250,ease:Jt};function Mi(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function hn(t){var e,r;t instanceof I?(e=t._id,t=t._name):(e=Kt(),(r=Ai).time=xt(),t=t==null?null:t+"");for(var n=this._groups,o=n.length,i=0;i<o;++i)for(var s=n[i],a=s.length,u,l=0;l<a;++l)(u=s[l])&&$(u,t,e,l,s,r||Mi(u,e));return new I(n,this._parents,t,e)}R.prototype.interrupt=Fr;R.prototype.transition=hn;var{abs:Zf,max:Qf,min:jf}=Math;function pn(t){return[+t[0],+t[1]]}function Ni(t){return[pn(t[0]),pn(t[1])]}var tc={name:"x",handles:["w","e"].map(me),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},ec={name:"y",handles:["n","s"].map(me),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},rc={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(me),input:function(t){return t==null?null:Ni(t)},output:function(t){return t}};function me(t){return{type:t}}function L(t){return function(){return t}}function mn(){let t=1;return()=>(t=(1664525*t+1013904223)%4294967296)/4294967296}var Si=10,Ci=Math.PI*(3-Math.sqrt(5));function de(t){var e,r=1,n=.001,o=1-Math.pow(n,1/300),i=0,s=.6,a=new Map,u=rt(h),l=at("tick","end"),f=mn();t==null&&(t=[]);function h(){m(),l.call("tick",e),r<n&&(u.stop(),l.call("end",e))}function m(c){var y,d=t.length,x;c===void 0&&(c=1);for(var w=0;w<c;++w)for(r+=(i-r)*o,a.forEach(function(T){T(r)}),y=0;y<d;++y)x=t[y],x.fx==null?x.x+=x.vx*=s:(x.x=x.fx,x.vx=0),x.fy==null?x.y+=x.vy*=s:(x.y=x.fy,x.vy=0);return e}function g(){for(var c=0,y=t.length,d;c<y;++c){if(d=t[c],d.index=c,d.fx!=null&&(d.x=d.fx),d.fy!=null&&(d.y=d.fy),isNaN(d.x)||isNaN(d.y)){var x=Si*Math.sqrt(.5+c),w=c*Ci;d.x=x*Math.cos(w),d.y=x*Math.sin(w)}(isNaN(d.vx)||isNaN(d.vy))&&(d.vx=d.vy=0)}}function p(c){return c.initialize&&c.initialize(t,f),c}return g(),e={tick:m,restart:function(){return u.restart(h),e},stop:function(){return u.stop(),e},nodes:function(c){return arguments.length?(t=c,g(),a.forEach(p),e):t},alpha:function(c){return arguments.length?(r=+c,e):r},alphaMin:function(c){return arguments.length?(n=+c,e):n},alphaDecay:function(c){return arguments.length?(o=+c,e):+o},alphaTarget:function(c){return arguments.length?(i=+c,e):i},velocityDecay:function(c){return arguments.length?(s=1-c,e):1-s},randomSource:function(c){return arguments.length?(f=c,a.forEach(p),e):f},force:function(c,y){return arguments.length>1?(y==null?a.delete(c):a.set(c,p(y)),e):a.get(c)},find:function(c,y,d){var x=0,w=t.length,T,E,Y,b,O;for(d==null?d=1/0:d*=d,x=0;x<w;++x)b=t[x],T=c-b.x,E=y-b.y,Y=T*T+E*E,Y<d&&(O=b,d=Y);return O},on:function(c,y){return arguments.length>1?(l.on(c,y),e):l.on(c)}}}function ge(t){var e=L(.1),r,n,o;typeof t!="function"&&(t=L(t==null?0:+t));function i(a){for(var u=0,l=r.length,f;u<l;++u)f=r[u],f.vx+=(o[u]-f.x)*n[u]*a}function s(){if(r){var a,u=r.length;for(n=new Array(u),o=new Array(u),a=0;a<u;++a)n[a]=isNaN(o[a]=+t(r[a],a,r))?0:+e(r[a],a,r)}}return i.initialize=function(a){r=a,s()},i.strength=function(a){return arguments.length?(e=typeof a=="function"?a:L(+a),s(),i):e},i.x=function(a){return arguments.length?(t=typeof a=="function"?a:L(+a),s(),i):t},i}function ye(t){var e=L(.1),r,n,o;typeof t!="function"&&(t=L(t==null?0:+t));function i(a){for(var u=0,l=r.length,f;u<l;++u)f=r[u],f.vy+=(o[u]-f.y)*n[u]*a}function s(){if(r){var a,u=r.length;for(n=new Array(u),o=new Array(u),a=0;a<u;++a)n[a]=isNaN(o[a]=+t(r[a],a,r))?0:+e(r[a],a,r)}}return i.initialize=function(a){r=a,s()},i.strength=function(a){return arguments.length?(e=typeof a=="function"?a:L(+a),s(),i):e},i.y=function(a){return arguments.length?(t=typeof a=="function"?a:L(+a),s(),i):t},i}function X(t,e,r){this.k=t,this.x=e,this.y=r}X.prototype={constructor:X,scale:function(t){return t===1?this:new X(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new X(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var xe=new X(1,0,0);we.prototype=X.prototype;function we(t){for(;!t.__zoom;)if(!(t=t.parentNode))return xe;return t.__zoom}var Li=t=>{let e=[],r=n=>{var i,s;let o=t*n;for(let a of e)a.vx=((i=a.vx)!=null?i:0)+(Math.random()-.5)*o,a.vy=((s=a.vy)!=null?s:0)+(Math.random()-.5)*o};return r.initialize=n=>{e=n},r},dn=(t,e)=>t+Math.random()*(e-t),Oi=()=>{let t=F("rgb(10, 10, 10)","rgb(170, 170, 170)"),e=F("rgb(40, 12, 12)","rgb(210, 50, 50)");return()=>{let r=Math.random();return r<.55?t(Math.random()):r<.85?e(Math.random()):F(t(Math.random()),e(Math.random()))(Math.random())}},Bi=t=>{var g,p,c,y;let e=Math.max(1,window.innerWidth),r=Math.max(1,window.innerHeight),n=Number.parseInt((g=t.dataset.count)!=null?g:"60",10),o=Number.parseFloat((p=t.dataset.sizeMin)!=null?p:"1"),i=Number.parseFloat((c=t.dataset.sizeMax)!=null?c:"3"),s=Number.parseFloat((y=t.dataset.jitter)!=null?y:"0.35"),a=re(t).selectAll("svg").data([null]).join("svg").attr("class","parallax-svg").attr("width",e).attr("height",r).attr("viewBox",`0 0 ${e} ${r}`).attr("preserveAspectRatio","none"),u=Oi(),l=Tt(n).map(()=>({x:Math.random()*e,y:Math.random()*r,r:dn(o,i),color:u(),opacity:dn(.35,.9)})),f=a.selectAll("circle").data(l).join("circle").attr("r",d=>d.r).attr("fill",d=>d.color).attr("opacity",d=>d.opacity),h=12,m=de(l).force("x",ge(e/2).strength(.002)).force("y",ye(r/2).strength(.002)).force("jitter",Li(s)).velocityDecay(.35).alpha(.9).alphaDecay(.004).on("tick",()=>{for(let d of l)d.x<-h&&(d.x=e+h),d.x>e+h&&(d.x=-h),d.y<-h&&(d.y=r+h),d.y>r+h&&(d.y=-h);f.attr("cx",d=>d.x).attr("cy",d=>d.y)});return{layer:t,simulation:m}},gn=()=>{let t=document.querySelector(".parallax");if(!t)return;let e=window.matchMedia("(prefers-reduced-motion: reduce)"),r=Array.from(t.querySelectorAll(".parallax-layer"));if(r.length===0)return;let n=new Map,o=()=>{for(let a of n.values())a.simulation.stop();n.clear();for(let a of r){let u=a.querySelector("svg");u&&u.remove();let l=Bi(a);e.matches&&l.simulation.stop(),n.set(a,l)}},i=(()=>{let a=!1,u=window.scrollY,l=()=>{var p,c;let f=Math.max(1,document.documentElement.scrollHeight-window.innerHeight),h=Math.min(1,Math.max(0,u/f)),m=.08,g=r[r.length-1];for(let y of r){let d=Number.parseFloat((p=y.dataset.speed)!=null?p:"0.1"),x=Number.parseFloat((c=y.dataset.shrink)!=null?c:"0"),w=y===g?0:x,T=1-h*m*w;y.style.transform=`translate3d(0, ${u*d}px, 0) scale(${T})`}a=!1};return()=>{u=window.scrollY,a||(a=!0,requestAnimationFrame(l))}})(),s=(()=>{let a=0;return()=>{a&&cancelAnimationFrame(a),a=requestAnimationFrame(()=>{o()})}})();o(),i(),window.addEventListener("scroll",i,{passive:!0}),window.addEventListener("resize",s),e.addEventListener("change",o)};function yn(){let t=be(Z.headerLogoButton);if(!t)return;t.setAttribute("aria-pressed","false");let e=n=>{t.classList.toggle("is-expanded",n),t.setAttribute("aria-pressed",String(n))},r=()=>{t.classList.add("is-collapsing"),e(!1);let n=!1,o=()=>{n||(n=!0,t.classList.remove("is-collapsing"))},i=s=>{s.propertyName==="transform"&&o()};t.addEventListener("transitionend",i,{once:!0}),window.setTimeout(o,260)};t.addEventListener("click",()=>{t.classList.contains("is-expanded")?r():(t.classList.remove("is-collapsing"),e(!0))})}function xn(){let t=C(S.storeMain);if(!t)return;let e=()=>{let r=window.scrollY<=1;t.classList.toggle("is-hidden",!r)};window.addEventListener("scroll",e,{passive:!0}),e()}function wn(){let t=_t(Z.glitchLetters);if(t.length===0)return;let e=C(S.protocolText),r=()=>{let n=0,o=18,i=Array.from({length:t.length},(a,u)=>u+4),s=window.setInterval(()=>{n++,t.forEach((a,u)=>{let l=a.dataset.final||a.textContent||"";if(n<i[u]){let f=Math.floor(Math.random()*Q.glitchCharacters.length);a.textContent=Q.glitchCharacters[f]}else a.textContent=l}),n>o+t.length&&window.clearInterval(s)},80)};t.forEach(n=>{n.dataset.final=n.textContent||""}),r(),e&&e.addEventListener("click",r)}var vn=()=>{wn(),Ie(),xn(),Ae(),Ee(),yn(),gn()};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",vn,{once:!0}):vn();})();
