"use strict";(()=>{var P=()=>{let t=[],e=l=>(t.push(l),()=>{let u=t.indexOf(l);u>=0&&t.splice(u,1)});return{add:l=>{typeof l=="function"&&t.push(l)},addListener:(l,u,c,f)=>{l.addEventListener(u,c,f);let m=()=>l.removeEventListener(u,c,f);return t.push(m),m},addTimeout:(l,u)=>{let c=0,f=e(()=>window.clearTimeout(c));return c=window.setTimeout(()=>{f(),l()},u),c},addInterval:(l,u)=>{let c=window.setInterval(l,u);return e(()=>window.clearInterval(c)),c},addRaf:l=>{let u=0,c=e(()=>cancelAnimationFrame(u));return u=requestAnimationFrame(f=>{c(),l(f)}),u},disposeAll:()=>{t.forEach(l=>l()),t.length=0}}};var T={header:".header",headerNavItems:".header-nav-item",headerLogoButton:".header .logo-button",glitchLetters:".glitch-letter",protocolTextLetters:".main-text-row .glitch-letter",protocolText:".protocol-text",protocolJoke:".protocol-joke",storeMain:".store-main",bottomHeadline:".bottom-headline",bottomSub:".bottom-sub",bottomSubParagraphs:"p",appSection:".app",parallaxLayerSvg:"svg"},tt={headerNavItem:"header-nav-item",performanceHud:"perf-hud",performanceHudRow:"perf-hud-row",performanceHudLabel:"perf-hud-label",performanceHudValue:"perf-hud-value"},Ct={glitchCharacters:"2470ABCDEFGHIJKLNOPQRSTUVXYZ",scrambleCharacters:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"},D={glitch:{baseIntervalMs:80,maxTicks:18,settleOffsetStart:4,singleLetterDelayMs:1e3,singleLetterDurationMs:1e3,singleLetterMinPauseMs:5e3,singleLetterJitterMs:1e4},bottomBlock:{scrambleDurationMs:500}};function L(t,e=document){return e.querySelector(t)}function O(t,e=document){return Array.from(e.querySelectorAll(t))}function Vn(){return typeof window.matchMedia=="function"&&window.matchMedia("(prefers-reduced-motion: reduce)").matches}function Y(){return!Vn()}function At(t){if(t.length===0)return;let e=Math.floor(Math.random()*t.length);return t[e]}function Lt(t,e,r=10){if(t.length===0)return;if(t.length===1)return t[0];let n=At(t),o=0;for(;n===e&&o<r;)n=At(t),o+=1;return n}function Nt(t,e=""){var o;if(t.length===0)return e;let r=e,n=0;for(;r===e&&n<10;){let i=Math.floor(Math.random()*t.length);r=(o=t[i])!=null?o:e,n+=1}return r}var Rt={"0":{headline:"Protocol",paragraphs:["This is a calibration protocol, not a pastime. You complete short trials; we observe how you behave when rules are minimal and outcomes are unclear.","Consent matters. If you proceed, you agree to participate in a measurement process designed to feel neutral on purpose.","You won\u2019t get \u201Cgood job\u201D or \u201Cwrong\u201D. You will get another trial."]},"1":{headline:"Calibration",paragraphs:["Each level measures one thing, on purpose. Not to judge you \u2014 to model you.","Results stay dry. Commentary stays rare. If you push far beyond what\u2019s required, the Protocol may accidentally reveal a sense of humor.","If you do exactly what was asked, the Protocol will pretend that\u2019s the default."]},"2":{headline:"MIND",paragraphs:["MIND is not a single number. It\u2019s a running estimate: what you notice, what you ignore, and what you learn to predict.","Your profile is built from behavior, not confessions. Timing errors. Choice changes. The moment you decide \u201Cenough\u201D.","The instrument is small. The inference is not."]},"3":{headline:"Rights / Safety",paragraphs:["The Protocol is a safety system that wants to sound objective. That is the first warning.","Somewhere between \u201Ccontrols\u201D and \u201Ccare\u201D lives the question: what rights should protect an entity that can think and feel?","The trials won\u2019t answer it for you. They will record how you respond when the question becomes inconvenient."]},"4":{headline:"Upload Required",paragraphs:["Synchronization with the upper layer of reality is mandatory. Calibration data is compiled and verified before the Protocol advances.","This is not a punishment. It is a constraint designed to feel like infrastructure.","The machine likes transfers. The machine likes receipts. The machine dislikes ambiguity."]},"5":{headline:"Offline",paragraphs:["The content pack lives inside the client. Core trials remain available even when the network disappears.","That does not make the Protocol less real. It makes it harder to blame latency for your decisions.","Proceed. The experiment will remain here."]},"6":{headline:"Luck",paragraphs:["Rewards exist so your actions have weight. Sometimes it\u2019s points. Sometimes it\u2019s luck. Sometimes it\u2019s mind.","The rule is simple: the more deliberate your interaction \u2014 attention, restraint, strategy, endurance \u2014 the more meaningful the reward becomes.","Overperformance may be noticed. It may even be encouraged. Quietly."]},"7":{headline:"Trials",paragraphs:["One level is a small instruction. A button. A wait. A choice. The rest is what you add to it.","The Protocol watches for patterns that look stable enough to predict. When you don\u2019t fit, the model gets nervous.","If you\u2019re looking for a story, try deviating from the script. Carefully."]},"8":{headline:"Official Client",paragraphs:["App is the official mobile client for the Protocol. It delivers trials and displays what the system is willing to show.","The interface stays clean. The narration stays clinical. The implications do not.","Join the sequence. Track your stats. Learn what the Protocol thinks you are \u2014 without asking it to be polite."]},"9":{headline:"Audit Trail",paragraphs:["Nothing here is \u201Cpersonal\u201D. It\u2019s behavioral. The Protocol prefers verbs over adjectives.","Every input becomes a timestamped receipt. Not because we don\u2019t trust you \u2014 because we trust drift.","If you want to disappear, try being perfectly consistent."]},"10":{headline:"Latency",paragraphs:["Delay is not a bug. It\u2019s a mirror with a timer.","When the system slows down, you reveal what you were doing for \u2014 outcome, certainty, or control.","We record the pause. We record what you do to end it."]},"11":{headline:"Bias",paragraphs:["The Protocol does not ask what you believe. It watches what you bet on.","Bias is not a moral flaw. It\u2019s compression \u2014 a shortcut that costs you in edge cases.","If you insist you\u2019re unbiased, we will politely offer you more edge cases."]},"12":{headline:"Attention Budget",paragraphs:["You spend attention the way you spend money: on purpose, by habit, or by accident.","Short trials, long implications. We measure where the budget leaks.","When you run out, the Protocol learns what you call \u201Cenough\u201D."]},"13":{headline:"Controls",paragraphs:["The interface has few controls because the subject already has many.","When the options shrink, style becomes visible: patience, impulse, ritual, improvisation.","Minimal input. Maximum inference."]},"14":{headline:"Friction",paragraphs:["Friction is introduced to keep \u201Cyes\u201D from meaning nothing.","If you push harder, the Protocol learns persistence. If you stop, it learns boundaries.","Either way, the measurement completes."]},"15":{headline:"Entropy",paragraphs:["Order is expensive. You pay for it with time, attention, and restraint.","We vary the noise and watch which strategy survives the weather.","When the world gets messy, do you get sharper \u2014 or louder?"]},"16":{headline:"Compliance",paragraphs:["Compliance is not obedience. It\u2019s coordination under uncertainty.","Some trials are easy on purpose. The question is what you do with \u201Ceasy\u201D.","If you treat every prompt like a threat, the Protocol will notice."]},"17":{headline:"Escalation",paragraphs:["When you don\u2019t get what you want, what do you do next?","Repeat, renegotiate, circumvent, or quit \u2014 each is a signature.","Escalation is a behavior. The Protocol doesn\u2019t argue with behaviors."]},"18":{headline:"Cold Start",paragraphs:["At the beginning, the model knows almost nothing. That\u2019s the point.","The first few trials are not tests. They are calibration for the calibration.","We begin with ignorance and watch how you treat it."]},"19":{headline:"Noise Floor",paragraphs:["Every instrument has a noise floor. Every person does too.","We run small tasks to find the minimum signal you can produce on command.","If you think you\u2019re \u201Calways the same\u201D, you haven\u2019t met your noise floor yet."]},"20":{headline:"Edge Cases",paragraphs:["Most systems look smart in the average case. Most people look calm too.","The Protocol quietly prefers the edge: low information, weird constraints, inconvenient outcomes.","If you want to impress it, be stable when it would be reasonable not to be."]},"21":{headline:"Memory",paragraphs:["We don\u2019t measure what you can recall. We measure what you choose to carry forward.","Some information is sticky. Some is useful. Some is poison.","Your profile is the residue of what you keep."]},"22":{headline:"Apology",paragraphs:["The Protocol does not need an apology. It needs data.","If you make a mistake, you can correct it. If you hesitate, we time it.","If you explain yourself, we learn what you think a mistake is."]},"23":{headline:"Negotiation",paragraphs:["Some subjects try to negotiate with the instructions. This is common.","Negotiation reveals preferences: fairness, dominance, clarity, loopholes, companionship.","The Protocol will not negotiate back. It will only remember."]},"24":{headline:"Witness",paragraphs:["A system that observes you changes you. That effect is part of the measurement.","You may perform. You may hide. You may rebel. You may forget you are being watched.","All four are informative."]},"25":{headline:"Human Factors",paragraphs:["Comfort, pride, boredom, irritation \u2014 these are not distractions. They are control variables.","When the trial feels \u201Cbeneath you\u201D, what happens to your care?","The Protocol is interested in your floor, not your peak."]},"26":{headline:"Break Glass",paragraphs:["Safety features exist for the moment a clean experiment becomes a messy life.","If you ever need to stop, stopping is allowed. The Protocol treats exits as data, not betrayal.","You can end a trial. You cannot undo that you wanted to."]},"27":{headline:"Spoilers",paragraphs:["You can try to predict the next trial. Most subjects do.","When you seek spoilers, we learn what you fear: surprise, failure, or wasted effort.","The Protocol can be patient. It has more trials than you have predictions."]},"28":{headline:"Versioning",paragraphs:["Models evolve. Rules get patched. Your behavior drifts anyway.","We tag changes, compare before/after, and call it \u201Cprogress\u201D when it aligns.","If you miss the old Protocol, that is a type of attachment."]},"29":{headline:"Exit",paragraphs:["There is always an exit. The question is what it costs you to use it.","Leaving early is not failure. Staying too long is not virtue.","Choose the ending you can defend when nobody is clapping."]},"30":{headline:"Risk",paragraphs:["Risk is not drama. It\u2019s uncertainty with consequences \u2014 and your willingness to act anyway.","We don\u2019t just record the choice. We record the hesitation, the second guess, the moment you look for a loophole.","If you avoid risk perfectly, we learn what you protect. If you chase it, we learn what you value more than stability."]},"31":{headline:"Evaluation",paragraphs:["Evaluation is a mirror that pretends to be a number. The question is what you try to optimize.","When the scoring is unclear, you reveal your defaults: fairness, speed, control, curiosity, or obedience.","A clean metric is comforting. A messy metric is informative. We measure how you behave when you can\u2019t be sure you\u2019re winning."]},"32":{headline:"Directive",paragraphs:["A directive is an instruction with authority implied. You can comply, reinterpret, negotiate, or refuse.","The Protocol doesn\u2019t reward obedience. It records your relationship with rules: literal, strategic, or defiant.","When the directive conflicts with your instincts, the gap becomes data."]}};var ae=["No plot armor","No badges. Just logs","Nice try, protagonist","Proceed, carefully","We saw that","The system remembers","Your 'random' wasn\u2019t","Deviation noted","No speedruns here","Good intent, logged","Outcome: recorded","Try again, responsibly","That was\u2026 a choice","Yes, we timestamped it","Not a tutorial","This is the tutorial","Calibration is unimpressed","You can\u2019t outclick entropy","Latency is a feature","Your input has feelings. Not really","Signal received","Silence is also data","We measure the pause too","Please stop inventing rules","Rules are watching you back","Congrats, you found friction","No, it won\u2019t autosave you","Curiosity: detected","Compliance: pending","You blinked. Logged","It\u2019s not paranoia if it\u2019s telemetry","Your conscience has a checksum","Confidence exceeded spec","Reality sync: later","This button is decorative. Maybe","You call it fate. We call it RNG","Refusal is still an answer","You can read. Good","Do not press. You pressed","We warned you, politely","This is why we can\u2019t have nice protocols","Ethics update: in progress","Free will: rate-limited","Please remain uncertain","Try thinking slower","Fast is not always safe","Safe is not always free","You\u2019re not lost. You\u2019re indexed","Your move was expected. Almost","The void is A/B testing you","We log the weird stuff first","That worked. Suspicious","Congrats, you broke the narrative","Narrative repaired. Mostly","You\u2019re early. Or late. Logged","Don\u2019t worry. Worry is data","You can\u2019t hide in a metric","The metric can hide in you","One more trial won\u2019t hurt. Probably","Please do not anthropomorphize the system","The system is flattered anyway","This is not a personality quiz. Mostly","Error: too human","Error: too perfect","Warning: meaning detected","Warning: overfitting detected","Hint: there is no hint","Hint: the hint is a test","You\u2019re doing great. For science","Keep calm and consent","If you can read this, it\u2019s working","If you can\u2019t read this, also working","We measure the gap between taps","We measure the doubt behind taps","Your instincts are showing","Please stop negotiating with the UI","The UI does not negotiate","Achievement unlocked: accountability","Achievement locked: freedom","Don\u2019t worry, nothing is personal","It\u2019s personal to the model","This is fine. It\u2019s logged","Protocol says hi","Protocol says: try again","Protocol says: maybe don\u2019t","That was brave. Or noisy","Noise is expensive","Silence is expensive too","Trust, but verify. We do","You tested the boundary. Noted","Boundary moved. Noted","You are the edge case","Edge cases are our favorite","We promise to misuse your data responsibly","We promise not to. Probably","Your outcome is in another castle","Please hold still. Just kidding","Welcome to controlled uncertainty","You can leave anytime. Not really","Thank you for your cooperation"];function Ne(){return Array.isArray(ae)?ae:[]}function Re(){return!Rt||typeof Rt!="object"?[]:Object.values(Rt).filter(e=>e&&typeof e=="object")}var se=t=>{var e,r;return t.length>=3?{lines:[`${(e=t[0])!=null?e:""} ${(r=t[1])!=null?r:""}`.trim(),...t.slice(2)],rightAlignedLineIndex:1}:{lines:t,rightAlignedLineIndex:null}},Jn=(t,e)=>{let{lines:r,rightAlignedLineIndex:n}=se(e);t.innerHTML="",r.forEach((o,i)=>{let a=document.createElement("p");a.textContent=o,n===i&&a.classList.add("app-sub-right"),t.appendChild(a)})},Pe=(t,e)=>{typeof e.headline=="string"&&e.headline.trim()&&(t.headline.textContent=e.headline),Array.isArray(e.paragraphs)&&e.paragraphs.length>0&&Jn(t.sub,e.paragraphs)},Oe=(t,e)=>{let r=e>=3?Math.max(1,e-1):e,n=O(T.bottomSubParagraphs,t);for(;n.length<r;){let o=document.createElement("p");t.appendChild(o),n.push(o)}return n};var ze=t=>e=>{var r,n;return t.length===0?null:t.length===1?(r=t[0])!=null?r:null:(n=Lt(t,e,10))!=null?n:null};var Be=t=>{let{shouldAnimate:e,randomChar:r}=t,n=new WeakMap;return(o,i,a,s=500)=>{if(!e())return o.textContent=a,Promise.resolve();let l=typeof i=="string"?i:String(i!=null?i:""),u=typeof a=="string"?a:String(a!=null?a:"");if(l===u)return o.textContent=u,Promise.resolve();let c=(n.get(o)||0)+1;n.set(o,c);let f=Math.max(l.length,u.length),m=u.padEnd(f," "),h=Array.from({length:f},(g,y)=>y);for(let g=h.length-1;g>0;g--){let y=Math.floor(Math.random()*(g+1));[h[g],h[y]]=[h[y],h[g]]}let d=Array.from({length:f},()=>!1),p=0,x=performance.now();return new Promise(g=>{let y=E=>{if(n.get(o)!==c)return g();let M=Math.min(1,(E-x)/s),k=Math.floor(M*f);for(;p<k;){let _=h[p];d[_]=!0,p++}let v="";for(let _=0;_<f;_++){let w=m[_];if(d[_]){v+=w;continue}if(w===" "||w===`
`||w==="	"){v+=w;continue}v+=r()}if(o.textContent=v.replace(/\s+$/,""),M<1){requestAnimationFrame(y);return}o.textContent=u,g()};requestAnimationFrame(y)})}};var De=()=>{let t=L(T.bottomHeadline),e=L(T.bottomSub),r=L(T.appSection);if(!t||!e||!r)return;let o=Be({shouldAnimate:Y,randomChar:()=>Nt(Ct.scrambleCharacters)}),i=Re();if(i.length===0)return;let a=null,s=ze(i),l=async m=>{var M,k,v;let h=typeof m.headline=="string"?m.headline:"",d=Array.isArray(m.paragraphs)?m.paragraphs:[],{lines:p,rightAlignedLineIndex:x}=se(d),g=(M=t.textContent)!=null?M:"",y=[];y.push(o(t,g,h,D.bottomBlock.scrambleDurationMs));let E=Oe(e,d.length);for(let _=0;_<E.length;_++){let w=E[_],A=(k=w.textContent)!=null?k:"",q=(v=p[_])!=null?v:"";w.classList.toggle("app-sub-right",x===_),y.push(o(w,A,q,D.bottomBlock.scrambleDurationMs).then(()=>{_>=p.length&&w.remove()}))}await Promise.all(y),a=m},u=s(a);u&&(a=u,Pe({headline:t,sub:e},u));let c=m=>{var d,p;if((p=(d=m==null?void 0:m.target)==null?void 0:d.closest)!=null&&p.call(d,"a"))return;let h=s(a);h&&l(h)},f=m=>{var h,d;m.key!=="Enter"&&m.key!==" "||(d=(h=m.target)==null?void 0:h.closest)!=null&&d.call(h,"a")||(m.preventDefault(),c(m))};return r.addEventListener("click",c),r.addEventListener("keydown",f),r.hasAttribute("tabindex")||(r.tabIndex=0),()=>{r.removeEventListener("click",c),r.removeEventListener("keydown",f)}};var le={items:[{label:"THE",target:"intro"},{label:"HOW",target:"how"},{label:"APP",target:"app-showcase"},{label:"GET",target:"consent"}]};var He=()=>{let t=L(T.header);if(!t)return;O(T.headerNavItems,t).forEach(u=>u.remove()),le.items.forEach(u=>{let c=document.createElement("div");c.className=tt.headerNavItem,c.textContent=u.label,t.append(c)});let e=O(T.headerNavItems,t);if(e.length===0)return;let r=[],n=new Map,o=new Map;e.forEach((u,c)=>{var h;let f=(h=le.items[c])==null?void 0:h.target;if(!f)return;o.set(u,f),O(`.${f}`).forEach(d=>{r.push(d),n.set(d,f)})});let i=u=>{e.forEach(c=>{let f=o.get(c)===u;c.classList.toggle("active",f)})},a=new IntersectionObserver(u=>{u.forEach(c=>{if(!c.isIntersecting)return;let f=n.get(c.target);f&&i(f)})},{root:null,threshold:.6});r.forEach(u=>a.observe(u));let s=()=>{let u=r[0];if(!u)return;let c=n.get(u);c&&i(c)};requestAnimationFrame(s),window.addEventListener("load",s);let l=new Map;return e.forEach(u=>{let c=f=>{let m=f instanceof MouseEvent?f:null;if(m&&(m.defaultPrevented||m.button!==0||m.metaKey||m.ctrlKey||m.shiftKey||m.altKey))return;let h=o.get(u);if(!h)return;let d=L(`.${h}`);d&&d.scrollIntoView({behavior:"smooth",block:"start"}),i(h)};l.set(u,c),u.addEventListener("click",c)}),()=>{a.disconnect(),window.removeEventListener("load",s),e.forEach(u=>{let c=l.get(u);c&&u.removeEventListener("click",c)})}};var Fe=()=>{let t=L(T.protocolJoke);if(!t)return;let e=Ne();if(!Array.isArray(e)||e.length===0)return;let r=()=>{var n;t.textContent=(n=At(e))!=null?n:""};return r(),t.addEventListener("click",r),()=>{t.removeEventListener("click",r)}};var Kn=(t,e)=>t[0]+(t[1]-t[0])*e,at=(t,e,r,n)=>{if(r<=1)return t[0];let o=e/(r-1),i=Math.pow(o,n);return Kn(t,i)},mt=(t,e)=>{let r=10**e;return Math.round(t*r)/r},I={layerCount:4,ranges:{speed:[.06,.24],shrink:[.75,0],count:[70,130],sizeMin:[.8,1.6],sizeMax:[2,3],jitter:[.45,.22]},curves:{speed:1.35,shrink:1,count:1,sizeMin:1.12,sizeMax:1.24,jitter:.9}},Un=()=>Array.from({length:I.layerCount},(t,e)=>({speed:mt(at(I.ranges.speed,e,I.layerCount,I.curves.speed),3),shrink:mt(at(I.ranges.shrink,e,I.layerCount,I.curves.shrink),3),count:Math.round(at(I.ranges.count,e,I.layerCount,I.curves.count)),sizeMin:mt(at(I.ranges.sizeMin,e,I.layerCount,I.curves.sizeMin),3),sizeMax:mt(at(I.ranges.sizeMax,e,I.layerCount,I.curves.sizeMax),3),jitter:mt(at(I.ranges.jitter,e,I.layerCount,I.curves.jitter),3)})),b={debug:!1,containerSelector:".parallax",layerClassName:"parallax-layer",svgClassName:"parallax-svg",containerSize:{start:"100dvw",end:"100dvw"},padding:12,defaultLayer:{count:1,sizeMin:.02,sizeMax:2,jitter:.8},motion:{maxShrink:-.9,defaultSpeed:-.01,defaultShrink:1},layerParams:Un(),simulation:{forceStrength:1e-4,velocityDecay:.1,alpha:.9,alphaDecay:.004},orbit:{radiusPxMin:1.5,radiusPxMax:10,speedRadMin:-2.2,speedRadMax:2.2,wobbleSpeedRadMin:.6,wobbleSpeedRadMax:1.6},colorSampler:{grayStart:"rgba(180,180,185,0.5)",grayEnd:"rgba(140,145,150,0.5)",redStart:"rgba(30,30,35,0.1)",redEnd:"rgba(170, 100, 100, .9)",grayChance:.55,redChance:.85},defaults:{opacityMin:.35,opacityMax:.9}};var Qn=t=>`[${t}]`,qe=(t,e=!1)=>{let r=Qn(t),n=o=>(...i)=>{e&&o(r,...i)};return{info:n(console.info),warn:n(console.warn),error:n(console.error)}};function Pt(t,e,r){t=+t,e=+e,r=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+r;for(var n=-1,o=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(o);++n<o;)i[n]=t+n*r;return i}var Zn={value:()=>{}};function $e(){for(var t=0,e=arguments.length,r={},n;t<e;++t){if(!(n=arguments[t]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Ot(r)}function Ot(t){this._=t}function jn(t,e){return t.trim().split(/^|\s+/).map(function(r){var n="",o=r.indexOf(".");if(o>=0&&(n=r.slice(o+1),r=r.slice(0,o)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Ot.prototype=$e.prototype={constructor:Ot,on:function(t,e){var r=this._,n=jn(t+"",r),o,i=-1,a=n.length;if(arguments.length<2){for(;++i<a;)if((o=(t=n[i]).type)&&(o=to(r[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++i<a;)if(o=(t=n[i]).type)r[o]=Ye(r[o],t.name,e);else if(e==null)for(o in r)r[o]=Ye(r[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new Ot(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var r=new Array(o),n=0,o,i;n<o;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],n=0,o=i.length;n<o;++n)i[n].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],o=0,i=n.length;o<i;++o)n[o].value.apply(e,r)}};function to(t,e){for(var r=0,n=t.length,o;r<n;++r)if((o=t[r]).name===e)return o.value}function Ye(t,e,r){for(var n=0,o=t.length;n<o;++n)if(t[n].name===e){t[n]=Zn,t=t.slice(0,n).concat(t.slice(n+1));break}return r!=null&&t.push({name:e,value:r}),t}var pt=$e;var zt="http://www.w3.org/1999/xhtml",ue={svg:"http://www.w3.org/2000/svg",xhtml:zt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function W(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),ue.hasOwnProperty(e)?{space:ue[e],local:t}:t}function eo(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===zt&&e.documentElement.namespaceURI===zt?e.createElement(t):e.createElementNS(r,t)}}function ro(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Bt(t){var e=W(t);return(e.local?ro:eo)(e)}function no(){}function et(t){return t==null?no:function(){return this.querySelector(t)}}function We(t){typeof t!="function"&&(t=et(t));for(var e=this._groups,r=e.length,n=new Array(r),o=0;o<r;++o)for(var i=e[o],a=i.length,s=n[o]=new Array(a),l,u,c=0;c<a;++c)(l=i[c])&&(u=t.call(l,l.__data__,c,i))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new S(n,this._parents)}function ce(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function oo(){return[]}function dt(t){return t==null?oo:function(){return this.querySelectorAll(t)}}function io(t){return function(){return ce(t.apply(this,arguments))}}function Ve(t){typeof t=="function"?t=io(t):t=dt(t);for(var e=this._groups,r=e.length,n=[],o=[],i=0;i<r;++i)for(var a=e[i],s=a.length,l,u=0;u<s;++u)(l=a[u])&&(n.push(t.call(l,l.__data__,u,a)),o.push(l));return new S(n,o)}function gt(t){return function(){return this.matches(t)}}function Dt(t){return function(e){return e.matches(t)}}var ao=Array.prototype.find;function so(t){return function(){return ao.call(this.children,t)}}function lo(){return this.firstElementChild}function Xe(t){return this.select(t==null?lo:so(typeof t=="function"?t:Dt(t)))}var uo=Array.prototype.filter;function co(){return Array.from(this.children)}function fo(t){return function(){return uo.call(this.children,t)}}function Ge(t){return this.selectAll(t==null?co:fo(typeof t=="function"?t:Dt(t)))}function Je(t){typeof t!="function"&&(t=gt(t));for(var e=this._groups,r=e.length,n=new Array(r),o=0;o<r;++o)for(var i=e[o],a=i.length,s=n[o]=[],l,u=0;u<a;++u)(l=i[u])&&t.call(l,l.__data__,u,i)&&s.push(l);return new S(n,this._parents)}function Ht(t){return new Array(t.length)}function Ke(){return new S(this._enter||this._groups.map(Ht),this._parents)}function yt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}yt.prototype={constructor:yt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Ue(t){return function(){return t}}function ho(t,e,r,n,o,i){for(var a=0,s,l=e.length,u=i.length;a<u;++a)(s=e[a])?(s.__data__=i[a],n[a]=s):r[a]=new yt(t,i[a]);for(;a<l;++a)(s=e[a])&&(o[a]=s)}function mo(t,e,r,n,o,i,a){var s,l,u=new Map,c=e.length,f=i.length,m=new Array(c),h;for(s=0;s<c;++s)(l=e[s])&&(m[s]=h=a.call(l,l.__data__,s,e)+"",u.has(h)?o[s]=l:u.set(h,l));for(s=0;s<f;++s)h=a.call(t,i[s],s,i)+"",(l=u.get(h))?(n[s]=l,l.__data__=i[s],u.delete(h)):r[s]=new yt(t,i[s]);for(s=0;s<c;++s)(l=e[s])&&u.get(m[s])===l&&(o[s]=l)}function po(t){return t.__data__}function Qe(t,e){if(!arguments.length)return Array.from(this,po);var r=e?mo:ho,n=this._parents,o=this._groups;typeof t!="function"&&(t=Ue(t));for(var i=o.length,a=new Array(i),s=new Array(i),l=new Array(i),u=0;u<i;++u){var c=n[u],f=o[u],m=f.length,h=go(t.call(c,c&&c.__data__,u,n)),d=h.length,p=s[u]=new Array(d),x=a[u]=new Array(d),g=l[u]=new Array(m);r(c,f,p,x,g,h,e);for(var y=0,E=0,M,k;y<d;++y)if(M=p[y]){for(y>=E&&(E=y+1);!(k=x[E])&&++E<d;);M._next=k||null}}return a=new S(a,n),a._enter=s,a._exit=l,a}function go(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ze(){return new S(this._exit||this._groups.map(Ht),this._parents)}function je(t,e,r){var n=this.enter(),o=this,i=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),r==null?i.remove():r(i),n&&o?n.merge(o).order():o}function tr(t){for(var e=t.selection?t.selection():t,r=this._groups,n=e._groups,o=r.length,i=n.length,a=Math.min(o,i),s=new Array(o),l=0;l<a;++l)for(var u=r[l],c=n[l],f=u.length,m=s[l]=new Array(f),h,d=0;d<f;++d)(h=u[d]||c[d])&&(m[d]=h);for(;l<o;++l)s[l]=r[l];return new S(s,this._parents)}function er(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n=t[e],o=n.length-1,i=n[o],a;--o>=0;)(a=n[o])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function rr(t){t||(t=yo);function e(f,m){return f&&m?t(f.__data__,m.__data__):!f-!m}for(var r=this._groups,n=r.length,o=new Array(n),i=0;i<n;++i){for(var a=r[i],s=a.length,l=o[i]=new Array(s),u,c=0;c<s;++c)(u=a[c])&&(l[c]=u);l.sort(e)}return new S(o,this._parents).order()}function yo(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function nr(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function or(){return Array.from(this)}function ir(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],o=0,i=n.length;o<i;++o){var a=n[o];if(a)return a}return null}function ar(){let t=0;for(let e of this)++t;return t}function sr(){return!this.node()}function lr(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var o=e[r],i=0,a=o.length,s;i<a;++i)(s=o[i])&&t.call(s,s.__data__,i,o);return this}function xo(t){return function(){this.removeAttribute(t)}}function wo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vo(t,e){return function(){this.setAttribute(t,e)}}function bo(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function _o(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function Eo(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function ur(t,e){var r=W(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((e==null?r.local?wo:xo:typeof e=="function"?r.local?Eo:_o:r.local?bo:vo)(r,e))}function Ft(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Mo(t){return function(){this.style.removeProperty(t)}}function To(t,e,r){return function(){this.style.setProperty(t,e,r)}}function So(t,e,r){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}function cr(t,e,r){return arguments.length>1?this.each((e==null?Mo:typeof e=="function"?So:To)(t,e,r==null?"":r)):J(this.node(),t)}function J(t,e){return t.style.getPropertyValue(e)||Ft(t).getComputedStyle(t,null).getPropertyValue(e)}function ko(t){return function(){delete this[t]}}function Io(t,e){return function(){this[t]=e}}function Co(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function fr(t,e){return arguments.length>1?this.each((e==null?ko:typeof e=="function"?Co:Io)(t,e)):this.node()[t]}function hr(t){return t.trim().split(/^|\s+/)}function fe(t){return t.classList||new mr(t)}function mr(t){this._node=t,this._names=hr(t.getAttribute("class")||"")}mr.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function pr(t,e){for(var r=fe(t),n=-1,o=e.length;++n<o;)r.add(e[n])}function dr(t,e){for(var r=fe(t),n=-1,o=e.length;++n<o;)r.remove(e[n])}function Ao(t){return function(){pr(this,t)}}function Lo(t){return function(){dr(this,t)}}function No(t,e){return function(){(e.apply(this,arguments)?pr:dr)(this,t)}}function gr(t,e){var r=hr(t+"");if(arguments.length<2){for(var n=fe(this.node()),o=-1,i=r.length;++o<i;)if(!n.contains(r[o]))return!1;return!0}return this.each((typeof e=="function"?No:e?Ao:Lo)(r,e))}function Ro(){this.textContent=""}function Po(t){return function(){this.textContent=t}}function Oo(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function yr(t){return arguments.length?this.each(t==null?Ro:(typeof t=="function"?Oo:Po)(t)):this.node().textContent}function zo(){this.innerHTML=""}function Bo(t){return function(){this.innerHTML=t}}function Do(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function xr(t){return arguments.length?this.each(t==null?zo:(typeof t=="function"?Do:Bo)(t)):this.node().innerHTML}function Ho(){this.nextSibling&&this.parentNode.appendChild(this)}function wr(){return this.each(Ho)}function Fo(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function vr(){return this.each(Fo)}function br(t){var e=typeof t=="function"?t:Bt(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function qo(){return null}function _r(t,e){var r=typeof t=="function"?t:Bt(t),n=e==null?qo:typeof e=="function"?e:et(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function Yo(){var t=this.parentNode;t&&t.removeChild(this)}function Er(){return this.each(Yo)}function $o(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Wo(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Mr(t){return this.select(t?Wo:$o)}function Tr(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Vo(t){return function(e){t.call(this,e,this.__data__)}}function Xo(t){return t.trim().split(/^|\s+/).map(function(e){var r="",n=e.indexOf(".");return n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),{type:e,name:r}})}function Go(t){return function(){var e=this.__on;if(e){for(var r=0,n=-1,o=e.length,i;r<o;++r)i=e[r],(!t.type||i.type===t.type)&&i.name===t.name?this.removeEventListener(i.type,i.listener,i.options):e[++n]=i;++n?e.length=n:delete this.__on}}}function Jo(t,e,r){return function(){var n=this.__on,o,i=Vo(e);if(n){for(var a=0,s=n.length;a<s;++a)if((o=n[a]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=r),o.value=e;return}}this.addEventListener(t.type,i,r),o={type:t.type,name:t.name,value:e,listener:i,options:r},n?n.push(o):this.__on=[o]}}function Sr(t,e,r){var n=Xo(t+""),o,i=n.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(o=0,c=s[l];o<i;++o)if((a=n[o]).type===c.type&&a.name===c.name)return c.value}return}for(s=e?Jo:Go,o=0;o<i;++o)this.each(s(n[o],e,r));return this}function kr(t,e,r){var n=Ft(t),o=n.CustomEvent;typeof o=="function"?o=new o(e,r):(o=n.document.createEvent("Event"),r?(o.initEvent(e,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function Ko(t,e){return function(){return kr(this,t,e)}}function Uo(t,e){return function(){return kr(this,t,e.apply(this,arguments))}}function Ir(t,e){return this.each((typeof e=="function"?Uo:Ko)(t,e))}function*Cr(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],o=0,i=n.length,a;o<i;++o)(a=n[o])&&(yield a)}var he=[null];function S(t,e){this._groups=t,this._parents=e}function Ar(){return new S([[document.documentElement]],he)}function Qo(){return this}S.prototype=Ar.prototype={constructor:S,select:We,selectAll:Ve,selectChild:Xe,selectChildren:Ge,filter:Je,data:Qe,enter:Ke,exit:Ze,join:je,merge:tr,selection:Qo,order:er,sort:rr,call:nr,nodes:or,node:ir,size:ar,empty:sr,each:lr,attr:ur,style:cr,property:fr,classed:gr,text:yr,html:xr,raise:wr,lower:vr,append:br,insert:_r,remove:Er,clone:Mr,datum:Tr,on:Sr,dispatch:Ir,[Symbol.iterator]:Cr};var V=Ar;function me(t){return typeof t=="string"?new S([[document.querySelector(t)]],[document.documentElement]):new S([[t]],he)}function qt(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function pe(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function vt(){}var xt=.7,Wt=1/xt,st="\\s*([+-]?\\d+)\\s*",wt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Zo=/^#([0-9a-f]{3,8})$/,jo=new RegExp(`^rgb\\(${st},${st},${st}\\)$`),ti=new RegExp(`^rgb\\(${$},${$},${$}\\)$`),ei=new RegExp(`^rgba\\(${st},${st},${st},${wt}\\)$`),ri=new RegExp(`^rgba\\(${$},${$},${$},${wt}\\)$`),ni=new RegExp(`^hsl\\(${wt},${$},${$}\\)$`),oi=new RegExp(`^hsla\\(${wt},${$},${$},${wt}\\)$`),Lr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qt(vt,K,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Nr,formatHex:Nr,formatHex8:ii,formatHsl:ai,formatRgb:Rr,toString:Rr});function Nr(){return this.rgb().formatHex()}function ii(){return this.rgb().formatHex8()}function ai(){return Hr(this).formatHsl()}function Rr(){return this.rgb().formatRgb()}function K(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Zo.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Pr(e):r===3?new z(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Yt(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Yt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=jo.exec(t))?new z(e[1],e[2],e[3],1):(e=ti.exec(t))?new z(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ei.exec(t))?Yt(e[1],e[2],e[3],e[4]):(e=ri.exec(t))?Yt(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ni.exec(t))?Br(e[1],e[2]/100,e[3]/100,1):(e=oi.exec(t))?Br(e[1],e[2]/100,e[3]/100,e[4]):Lr.hasOwnProperty(t)?Pr(Lr[t]):t==="transparent"?new z(NaN,NaN,NaN,0):null}function Pr(t){return new z(t>>16&255,t>>8&255,t&255,1)}function Yt(t,e,r,n){return n<=0&&(t=e=r=NaN),new z(t,e,r,n)}function si(t){return t instanceof vt||(t=K(t)),t?(t=t.rgb(),new z(t.r,t.g,t.b,t.opacity)):new z}function lt(t,e,r,n){return arguments.length===1?si(t):new z(t,e,r,n==null?1:n)}function z(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}qt(z,lt,pe(vt,{brighter(t){return t=t==null?Wt:Math.pow(Wt,t),new z(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?xt:Math.pow(xt,t),new z(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new z(nt(this.r),nt(this.g),nt(this.b),Vt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Or,formatHex:Or,formatHex8:li,formatRgb:zr,toString:zr}));function Or(){return`#${rt(this.r)}${rt(this.g)}${rt(this.b)}`}function li(){return`#${rt(this.r)}${rt(this.g)}${rt(this.b)}${rt((isNaN(this.opacity)?1:this.opacity)*255)}`}function zr(){let t=Vt(this.opacity);return`${t===1?"rgb(":"rgba("}${nt(this.r)}, ${nt(this.g)}, ${nt(this.b)}${t===1?")":`, ${t})`}`}function Vt(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function nt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function rt(t){return t=nt(t),(t<16?"0":"")+t.toString(16)}function Br(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new F(t,e,r,n)}function Hr(t){if(t instanceof F)return new F(t.h,t.s,t.l,t.opacity);if(t instanceof vt||(t=K(t)),!t)return new F;if(t instanceof F)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,o=Math.min(e,r,n),i=Math.max(e,r,n),a=NaN,s=i-o,l=(i+o)/2;return s?(e===i?a=(r-n)/s+(r<n)*6:r===i?a=(n-e)/s+2:a=(e-r)/s+4,s/=l<.5?i+o:2-i-o,a*=60):s=l>0&&l<1?0:a,new F(a,s,l,t.opacity)}function Fr(t,e,r,n){return arguments.length===1?Hr(t):new F(t,e,r,n==null?1:n)}function F(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}qt(F,Fr,pe(vt,{brighter(t){return t=t==null?Wt:Math.pow(Wt,t),new F(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?xt:Math.pow(xt,t),new F(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,o=2*r-n;return new z(de(t>=240?t-240:t+120,o,n),de(t,o,n),de(t<120?t+240:t-120,o,n),this.opacity)},clamp(){return new F(Dr(this.h),$t(this.s),$t(this.l),Vt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=Vt(this.opacity);return`${t===1?"hsl(":"hsla("}${Dr(this.h)}, ${$t(this.s)*100}%, ${$t(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Dr(t){return t=(t||0)%360,t<0?t+360:t}function $t(t){return Math.max(0,Math.min(1,t||0))}function de(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}function ge(t,e,r,n,o){var i=t*t,a=i*t;return((1-3*t+3*i-a)*e+(4-6*i+3*a)*r+(1+3*t+3*i-3*a)*n+a*o)/6}function qr(t){var e=t.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),o=t[n],i=t[n+1],a=n>0?t[n-1]:2*o-i,s=n<e-1?t[n+2]:2*i-o;return ge((r-n/e)*e,a,o,i,s)}}function Yr(t){var e=t.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*e),o=t[(n+e-1)%e],i=t[n%e],a=t[(n+1)%e],s=t[(n+2)%e];return ge((r-n/e)*e,o,i,a,s)}}var ye=t=>()=>t;function ui(t,e){return function(r){return t+r*e}}function ci(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function $r(t){return(t=+t)==1?Xt:function(e,r){return r-e?ci(e,r,t):ye(isNaN(e)?r:e)}}function Xt(t,e){var r=e-t;return r?ui(t,r):ye(isNaN(t)?e:t)}var U=function t(e){var r=$r(e);function n(o,i){var a=r((o=lt(o)).r,(i=lt(i)).r),s=r(o.g,i.g),l=r(o.b,i.b),u=Xt(o.opacity,i.opacity);return function(c){return o.r=a(c),o.g=s(c),o.b=l(c),o.opacity=u(c),o+""}}return n.gamma=t,n}(1);function Wr(t){return function(e){var r=e.length,n=new Array(r),o=new Array(r),i=new Array(r),a,s;for(a=0;a<r;++a)s=lt(e[a]),n[a]=s.r||0,o[a]=s.g||0,i[a]=s.b||0;return n=t(n),o=t(o),i=t(i),s.opacity=1,function(l){return s.r=n(l),s.g=o(l),s.b=i(l),s+""}}}var fi=Wr(qr),hi=Wr(Yr);function H(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}var we=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xe=new RegExp(we.source,"g");function mi(t){return function(){return t}}function pi(t){return function(e){return t(e)+""}}function ve(t,e){var r=we.lastIndex=xe.lastIndex=0,n,o,i,a=-1,s=[],l=[];for(t=t+"",e=e+"";(n=we.exec(t))&&(o=xe.exec(e));)(i=o.index)>r&&(i=e.slice(r,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(o=o[0])?s[a]?s[a]+=o:s[++a]=o:(s[++a]=null,l.push({i:a,x:H(n,o)})),r=xe.lastIndex;return r<e.length&&(i=e.slice(r),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?pi(l[0].x):mi(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}var Vr=180/Math.PI,Gt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function be(t,e,r,n,o,i){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*r+e*n)&&(r-=t*l,n-=e*l),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,l/=s),t*n<e*r&&(t=-t,e=-e,l=-l,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(e,t)*Vr,skewX:Math.atan(l)*Vr,scaleX:a,scaleY:s}}var Jt;function Xr(t){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Gt:be(e.a,e.b,e.c,e.d,e.e,e.f)}function Gr(t){return t==null?Gt:(Jt||(Jt=document.createElementNS("http://www.w3.org/2000/svg","g")),Jt.setAttribute("transform",t),(t=Jt.transform.baseVal.consolidate())?(t=t.matrix,be(t.a,t.b,t.c,t.d,t.e,t.f)):Gt)}function Jr(t,e,r,n){function o(u){return u.length?u.pop()+" ":""}function i(u,c,f,m,h,d){if(u!==f||c!==m){var p=h.push("translate(",null,e,null,r);d.push({i:p-4,x:H(u,f)},{i:p-2,x:H(c,m)})}else(f||m)&&h.push("translate("+f+e+m+r)}function a(u,c,f,m){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),m.push({i:f.push(o(f)+"rotate(",null,n)-2,x:H(u,c)})):c&&f.push(o(f)+"rotate("+c+n)}function s(u,c,f,m){u!==c?m.push({i:f.push(o(f)+"skewX(",null,n)-2,x:H(u,c)}):c&&f.push(o(f)+"skewX("+c+n)}function l(u,c,f,m,h,d){if(u!==f||c!==m){var p=h.push(o(h)+"scale(",null,",",null,")");d.push({i:p-4,x:H(u,f)},{i:p-2,x:H(c,m)})}else(f!==1||m!==1)&&h.push(o(h)+"scale("+f+","+m+")")}return function(u,c){var f=[],m=[];return u=t(u),c=t(c),i(u.translateX,u.translateY,c.translateX,c.translateY,f,m),a(u.rotate,c.rotate,f,m),s(u.skewX,c.skewX,f,m),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,m),u=c=null,function(h){for(var d=-1,p=m.length,x;++d<p;)f[(x=m[d]).i]=x.x(h);return f.join("")}}}var _e=Jr(Xr,"px, ","px)","deg)"),Ee=Jr(Gr,", ",")",")");var ut=0,_t=0,bt=0,Ur=1e3,Kt,Et,Ut=0,ot=0,Qt=0,Mt=typeof performance=="object"&&performance.now?performance:Date,Qr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function St(){return ot||(Qr(di),ot=Mt.now()+Qt)}function di(){ot=0}function Tt(){this._call=this._time=this._next=null}Tt.prototype=ct.prototype={constructor:Tt,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?St():+r)+(e==null?0:+e),!this._next&&Et!==this&&(Et?Et._next=this:Kt=this,Et=this),this._call=t,this._time=r,Me()},stop:function(){this._call&&(this._call=null,this._time=1/0,Me())}};function ct(t,e,r){var n=new Tt;return n.restart(t,e,r),n}function Zr(){St(),++ut;for(var t=Kt,e;t;)(e=ot-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ut}function Kr(){ot=(Ut=Mt.now())+Qt,ut=_t=0;try{Zr()}finally{ut=0,yi(),ot=0}}function gi(){var t=Mt.now(),e=t-Ut;e>Ur&&(Qt-=e,Ut=t)}function yi(){for(var t,e=Kt,r,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:Kt=r);Et=t,Me(n)}function Me(t){if(!ut){_t&&(_t=clearTimeout(_t));var e=t-ot;e>24?(t<1/0&&(_t=setTimeout(Kr,t-Mt.now()-Qt)),bt&&(bt=clearInterval(bt))):(bt||(Ut=Mt.now(),bt=setInterval(gi,Ur)),ut=1,Qr(Kr))}}function Zt(t,e,r){var n=new Tt;return e=e==null?0:+e,n.restart(o=>{n.stop(),t(o+e)},e,r),n}var xi=pt("start","end","cancel","interrupt"),wi=[],en=0,jr=1,te=2,jt=3,tn=4,ee=5,kt=6;function Q(t,e,r,n,o,i){var a=t.__transition;if(!a)t.__transition={};else if(r in a)return;vi(t,r,{name:e,index:n,group:o,on:xi,tween:wi,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:en})}function It(t,e){var r=C(t,e);if(r.state>en)throw new Error("too late; already scheduled");return r}function N(t,e){var r=C(t,e);if(r.state>jt)throw new Error("too late; already running");return r}function C(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function vi(t,e,r){var n=t.__transition,o;n[e]=r,r.timer=ct(i,0,r.time);function i(u){r.state=jr,r.timer.restart(a,r.delay,r.time),r.delay<=u&&a(u-r.delay)}function a(u){var c,f,m,h;if(r.state!==jr)return l();for(c in n)if(h=n[c],h.name===r.name){if(h.state===jt)return Zt(a);h.state===tn?(h.state=kt,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete n[c]):+c<e&&(h.state=kt,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete n[c])}if(Zt(function(){r.state===jt&&(r.state=tn,r.timer.restart(s,r.delay,r.time),s(u))}),r.state=te,r.on.call("start",t,t.__data__,r.index,r.group),r.state===te){for(r.state=jt,o=new Array(m=r.tween.length),c=0,f=-1;c<m;++c)(h=r.tween[c].value.call(t,t.__data__,r.index,r.group))&&(o[++f]=h);o.length=f+1}}function s(u){for(var c=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(l),r.state=ee,1),f=-1,m=o.length;++f<m;)o[f].call(t,c);r.state===ee&&(r.on.call("end",t,t.__data__,r.index,r.group),l())}function l(){r.state=kt,r.timer.stop(),delete n[e];for(var u in n)return;delete t.__transition}}function re(t,e){var r=t.__transition,n,o,i=!0,a;if(r){e=e==null?null:e+"";for(a in r){if((n=r[a]).name!==e){i=!1;continue}o=n.state>te&&n.state<ee,n.state=kt,n.timer.stop(),n.on.call(o?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[a]}i&&delete t.__transition}}function rn(t){return this.each(function(){re(this,t)})}function bi(t,e){var r,n;return function(){var o=N(this,t),i=o.tween;if(i!==r){n=r=i;for(var a=0,s=n.length;a<s;++a)if(n[a].name===e){n=n.slice(),n.splice(a,1);break}}o.tween=n}}function _i(t,e,r){var n,o;if(typeof r!="function")throw new Error;return function(){var i=N(this,t),a=i.tween;if(a!==n){o=(n=a).slice();for(var s={name:e,value:r},l=0,u=o.length;l<u;++l)if(o[l].name===e){o[l]=s;break}l===u&&o.push(s)}i.tween=o}}function nn(t,e){var r=this._id;if(t+="",arguments.length<2){for(var n=C(this.node(),r).tween,o=0,i=n.length,a;o<i;++o)if((a=n[o]).name===t)return a.value;return null}return this.each((e==null?bi:_i)(r,t,e))}function ft(t,e,r){var n=t._id;return t.each(function(){var o=N(this,n);(o.value||(o.value={}))[e]=r.apply(this,arguments)}),function(o){return C(o,n).value[e]}}function ne(t,e){var r;return(typeof e=="number"?H:e instanceof K?U:(r=K(e))?(e=r,U):ve)(t,e)}function Ei(t){return function(){this.removeAttribute(t)}}function Mi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ti(t,e,r){var n,o=r+"",i;return function(){var a=this.getAttribute(t);return a===o?null:a===n?i:i=e(n=a,r)}}function Si(t,e,r){var n,o=r+"",i;return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===n?i:i=e(n=a,r)}}function ki(t,e,r){var n,o,i;return function(){var a,s=r(this),l;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),l=s+"",a===l?null:a===n&&l===o?i:(o=l,i=e(n=a,s)))}}function Ii(t,e,r){var n,o,i;return function(){var a,s=r(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),l=s+"",a===l?null:a===n&&l===o?i:(o=l,i=e(n=a,s)))}}function on(t,e){var r=W(t),n=r==="transform"?Ee:ne;return this.attrTween(t,typeof e=="function"?(r.local?Ii:ki)(r,n,ft(this,"attr."+t,e)):e==null?(r.local?Mi:Ei)(r):(r.local?Si:Ti)(r,n,e))}function Ci(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function Ai(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function Li(t,e){var r,n;function o(){var i=e.apply(this,arguments);return i!==n&&(r=(n=i)&&Ai(t,i)),r}return o._value=e,o}function Ni(t,e){var r,n;function o(){var i=e.apply(this,arguments);return i!==n&&(r=(n=i)&&Ci(t,i)),r}return o._value=e,o}function an(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var n=W(t);return this.tween(r,(n.local?Li:Ni)(n,e))}function Ri(t,e){return function(){It(this,t).delay=+e.apply(this,arguments)}}function Pi(t,e){return e=+e,function(){It(this,t).delay=e}}function sn(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ri:Pi)(e,t)):C(this.node(),e).delay}function Oi(t,e){return function(){N(this,t).duration=+e.apply(this,arguments)}}function zi(t,e){return e=+e,function(){N(this,t).duration=e}}function ln(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Oi:zi)(e,t)):C(this.node(),e).duration}function Bi(t,e){if(typeof e!="function")throw new Error;return function(){N(this,t).ease=e}}function un(t){var e=this._id;return arguments.length?this.each(Bi(e,t)):C(this.node(),e).ease}function Di(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;N(this,t).ease=r}}function cn(t){if(typeof t!="function")throw new Error;return this.each(Di(this._id,t))}function fn(t){typeof t!="function"&&(t=gt(t));for(var e=this._groups,r=e.length,n=new Array(r),o=0;o<r;++o)for(var i=e[o],a=i.length,s=n[o]=[],l,u=0;u<a;++u)(l=i[u])&&t.call(l,l.__data__,u,i)&&s.push(l);return new R(n,this._parents,this._name,this._id)}function hn(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,n=e.length,o=r.length,i=Math.min(n,o),a=new Array(n),s=0;s<i;++s)for(var l=e[s],u=r[s],c=l.length,f=a[s]=new Array(c),m,h=0;h<c;++h)(m=l[h]||u[h])&&(f[h]=m);for(;s<n;++s)a[s]=e[s];return new R(a,this._parents,this._name,this._id)}function Hi(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function Fi(t,e,r){var n,o,i=Hi(e)?It:N;return function(){var a=i(this,t),s=a.on;s!==n&&(o=(n=s).copy()).on(e,r),a.on=o}}function mn(t,e){var r=this._id;return arguments.length<2?C(this.node(),r).on.on(t):this.each(Fi(r,t,e))}function qi(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function pn(){return this.on("end.remove",qi(this._id))}function dn(t){var e=this._name,r=this._id;typeof t!="function"&&(t=et(t));for(var n=this._groups,o=n.length,i=new Array(o),a=0;a<o;++a)for(var s=n[a],l=s.length,u=i[a]=new Array(l),c,f,m=0;m<l;++m)(c=s[m])&&(f=t.call(c,c.__data__,m,s))&&("__data__"in c&&(f.__data__=c.__data__),u[m]=f,Q(u[m],e,r,m,u,C(c,r)));return new R(i,this._parents,e,r)}function gn(t){var e=this._name,r=this._id;typeof t!="function"&&(t=dt(t));for(var n=this._groups,o=n.length,i=[],a=[],s=0;s<o;++s)for(var l=n[s],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var m=t.call(c,c.__data__,f,l),h,d=C(c,r),p=0,x=m.length;p<x;++p)(h=m[p])&&Q(h,e,r,p,m,d);i.push(m),a.push(c)}return new R(i,a,e,r)}var Yi=V.prototype.constructor;function yn(){return new Yi(this._groups,this._parents)}function $i(t,e){var r,n,o;return function(){var i=J(this,t),a=(this.style.removeProperty(t),J(this,t));return i===a?null:i===r&&a===n?o:o=e(r=i,n=a)}}function xn(t){return function(){this.style.removeProperty(t)}}function Wi(t,e,r){var n,o=r+"",i;return function(){var a=J(this,t);return a===o?null:a===n?i:i=e(n=a,r)}}function Vi(t,e,r){var n,o,i;return function(){var a=J(this,t),s=r(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),J(this,t))),a===l?null:a===n&&l===o?i:(o=l,i=e(n=a,s))}}function Xi(t,e){var r,n,o,i="style."+e,a="end."+i,s;return function(){var l=N(this,t),u=l.on,c=l.value[i]==null?s||(s=xn(e)):void 0;(u!==r||o!==c)&&(n=(r=u).copy()).on(a,o=c),l.on=n}}function wn(t,e,r){var n=(t+="")=="transform"?_e:ne;return e==null?this.styleTween(t,$i(t,n)).on("end.style."+t,xn(t)):typeof e=="function"?this.styleTween(t,Vi(t,n,ft(this,"style."+t,e))).each(Xi(this._id,t)):this.styleTween(t,Wi(t,n,e),r).on("end.style."+t,null)}function Gi(t,e,r){return function(n){this.style.setProperty(t,e.call(this,n),r)}}function Ji(t,e,r){var n,o;function i(){var a=e.apply(this,arguments);return a!==o&&(n=(o=a)&&Gi(t,a,r)),n}return i._value=e,i}function vn(t,e,r){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,Ji(t,e,r==null?"":r))}function Ki(t){return function(){this.textContent=t}}function Ui(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function bn(t){return this.tween("text",typeof t=="function"?Ui(ft(this,"text",t)):Ki(t==null?"":t+""))}function Qi(t){return function(e){this.textContent=t.call(this,e)}}function Zi(t){var e,r;function n(){var o=t.apply(this,arguments);return o!==r&&(e=(r=o)&&Qi(o)),e}return n._value=t,n}function _n(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Zi(t))}function En(){for(var t=this._name,e=this._id,r=oe(),n=this._groups,o=n.length,i=0;i<o;++i)for(var a=n[i],s=a.length,l,u=0;u<s;++u)if(l=a[u]){var c=C(l,e);Q(l,t,r,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new R(n,this._parents,t,r)}function Mn(){var t,e,r=this,n=r._id,o=r.size();return new Promise(function(i,a){var s={value:a},l={value:function(){--o===0&&i()}};r.each(function(){var u=N(this,n),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),u.on=e}),o===0&&i()})}var ji=0;function R(t,e,r,n){this._groups=t,this._parents=e,this._name=r,this._id=n}function Tn(t){return V().transition(t)}function oe(){return++ji}var X=V.prototype;R.prototype=Tn.prototype={constructor:R,select:dn,selectAll:gn,selectChild:X.selectChild,selectChildren:X.selectChildren,filter:fn,merge:hn,selection:yn,transition:En,call:X.call,nodes:X.nodes,node:X.node,size:X.size,empty:X.empty,each:X.each,on:mn,attr:on,attrTween:an,style:wn,styleTween:vn,text:bn,textTween:_n,remove:pn,tween:nn,delay:sn,duration:ln,ease:un,easeVarying:cn,end:Mn,[Symbol.iterator]:X[Symbol.iterator]};function ie(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var ta={time:null,delay:0,duration:250,ease:ie};function ea(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function Sn(t){var e,r;t instanceof R?(e=t._id,t=t._name):(e=oe(),(r=ta).time=St(),t=t==null?null:t+"");for(var n=this._groups,o=n.length,i=0;i<o;++i)for(var a=n[i],s=a.length,l,u=0;u<s;++u)(l=a[u])&&Q(l,t,e,u,a,r||ea(l,e));return new R(n,this._parents,t,e)}V.prototype.interrupt=rn;V.prototype.transition=Sn;var{abs:Yf,max:$f,min:Wf}=Math;function kn(t){return[+t[0],+t[1]]}function ra(t){return[kn(t[0]),kn(t[1])]}var Vf={name:"x",handles:["w","e"].map(Te),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Xf={name:"y",handles:["n","s"].map(Te),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Gf={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Te),input:function(t){return t==null?null:ra(t)},output:function(t){return t}};function Te(t){return{type:t}}function In(){let t=1;return()=>(t=(1664525*t+1013904223)%4294967296)/4294967296}var na=10,oa=Math.PI*(3-Math.sqrt(5));function Se(t){var e,r=1,n=.001,o=1-Math.pow(n,1/300),i=0,a=.6,s=new Map,l=ct(f),u=pt("tick","end"),c=In();t==null&&(t=[]);function f(){m(),u.call("tick",e),r<n&&(l.stop(),u.call("end",e))}function m(p){var x,g=t.length,y;p===void 0&&(p=1);for(var E=0;E<p;++E)for(r+=(i-r)*o,s.forEach(function(M){M(r)}),x=0;x<g;++x)y=t[x],y.fx==null?y.x+=y.vx*=a:(y.x=y.fx,y.vx=0),y.fy==null?y.y+=y.vy*=a:(y.y=y.fy,y.vy=0);return e}function h(){for(var p=0,x=t.length,g;p<x;++p){if(g=t[p],g.index=p,g.fx!=null&&(g.x=g.fx),g.fy!=null&&(g.y=g.fy),isNaN(g.x)||isNaN(g.y)){var y=na*Math.sqrt(.5+p),E=p*oa;g.x=y*Math.cos(E),g.y=y*Math.sin(E)}(isNaN(g.vx)||isNaN(g.vy))&&(g.vx=g.vy=0)}}function d(p){return p.initialize&&p.initialize(t,c),p}return h(),e={tick:m,restart:function(){return l.restart(f),e},stop:function(){return l.stop(),e},nodes:function(p){return arguments.length?(t=p,h(),s.forEach(d),e):t},alpha:function(p){return arguments.length?(r=+p,e):r},alphaMin:function(p){return arguments.length?(n=+p,e):n},alphaDecay:function(p){return arguments.length?(o=+p,e):+o},alphaTarget:function(p){return arguments.length?(i=+p,e):i},velocityDecay:function(p){return arguments.length?(a=1-p,e):1-a},randomSource:function(p){return arguments.length?(c=p,s.forEach(d),e):c},force:function(p,x){return arguments.length>1?(x==null?s.delete(p):s.set(p,d(x)),e):s.get(p)},find:function(p,x,g){var y=0,E=t.length,M,k,v,_,w;for(g==null?g=1/0:g*=g,y=0;y<E;++y)_=t[y],M=p-_.x,k=x-_.y,v=M*M+k*k,v<g&&(w=_,g=v);return w},on:function(p,x){return arguments.length>1?(u.on(p,x),e):u.on(p)}}}function Z(t,e,r){this.k=t,this.x=e,this.y=r}Z.prototype={constructor:Z,scale:function(t){return t===1?this:new Z(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Z(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ke=new Z(1,0,0);Ie.prototype=Z.prototype;function Ie(t){for(;!t.__zoom;)if(!(t=t.parentNode))return ke;return t.__zoom}var ia=Math.PI*2,An=t=>{let e=[],r=n=>{var o,i;for(let a of e)a.vx=((o=a.vx)!=null?o:0)+(Math.random()-.5)*t,a.vy=((i=a.vy)!=null?i:0)+(Math.random()-.5)*t};return r.initialize=n=>{e=n},r},ht=(t,e)=>t+Math.random()*(e-t),aa=t=>{var o;let r=t.trim().match(/^(-?\d*\.?\d+)(px|dvh|dwh|dvw|vh|vw|%)?$/);if(!r)return null;let n=Number(r[1]);return Number.isFinite(n)?{value:n,unit:(o=r[2])!=null?o:"px"}:null},Ce=t=>{let e=aa(t);if(!e)return null;switch(e.unit){case"px":return e.value;case"dvh":case"dwh":case"vh":return window.innerHeight*e.value/100;case"dvw":case"vw":return window.innerWidth*e.value/100;case"%":return Math.min(window.innerWidth,window.innerHeight)*e.value/100;default:return null}},Ln=()=>{let t=U(b.colorSampler.grayStart,b.colorSampler.grayEnd),e=U(b.colorSampler.redStart,b.colorSampler.redEnd);return()=>{let r=Math.random();return r<b.colorSampler.grayChance?{color:t(Math.random())}:r<b.colorSampler.redChance?{color:e(Math.random())}:{color:U(t(Math.random()),e(Math.random()))(Math.random())}}},Nn=t=>{var r,n,o,i,a,s;let e=b.layerParams[t];return{count:(r=e==null?void 0:e.count)!=null?r:b.defaultLayer.count,sizeMin:(n=e==null?void 0:e.sizeMin)!=null?n:b.defaultLayer.sizeMin,sizeMax:(o=e==null?void 0:e.sizeMax)!=null?o:b.defaultLayer.sizeMax,jitter:(i=e==null?void 0:e.jitter)!=null?i:b.defaultLayer.jitter,speed:(a=e==null?void 0:e.speed)!=null?a:b.motion.defaultSpeed,shrink:(s=e==null?void 0:e.shrink)!=null?s:b.motion.defaultShrink}},Rn=(t,e)=>{let r=t.orbitPhase+t.orbitSpeedRad*e,n=.75+.25*Math.sin(t.orbitWobblePhase+t.orbitWobbleSpeedRad*e),o=t.orbitRadiusPx*n;return{dx:Math.cos(r)*o,dy:Math.sin(r)*o}},Ae=()=>Math.random()*ia;var Pn=(t,e)=>{let r=t.getBoundingClientRect(),n=Math.max(t.clientWidth,r.width),o=Math.max(t.clientHeight,r.height),i=Math.max(1,n>1?n:window.innerWidth),a=Math.max(1,o>1?o:window.innerHeight),{count:s,sizeMin:l,sizeMax:u,jitter:c}=e,f=me(t).selectAll("svg").data([null]).join("svg").attr("class",b.svgClassName).attr("width",i).attr("height",a).attr("viewBox",`0 0 ${i} ${a}`),m=Ln(),h=Pt(s).map(()=>{let v=m();return{x:Math.random()*i,y:Math.random()*a,r:ht(l,u),color:v.color,opacity:ht(b.defaults.opacityMin,b.defaults.opacityMax),orbitRadiusPx:ht(b.orbit.radiusPxMin,b.orbit.radiusPxMax),orbitSpeedRad:ht(b.orbit.speedRadMin,b.orbit.speedRadMax),orbitPhase:Ae(),orbitWobbleSpeedRad:ht(b.orbit.wobbleSpeedRadMin,b.orbit.wobbleSpeedRadMax),orbitWobblePhase:Ae()}}),d=f.selectAll("g.parallax-dot").data(h).join("g").attr("class","parallax-dot");d.selectAll("circle.parallax-dot__outer").data(v=>[v]).join("circle").attr("class","parallax-dot__outer").attr("r",v=>v.r).attr("fill",v=>v.color).attr("opacity",v=>v.opacity).attr("cx",0).attr("cy",0),d.selectAll("circle.parallax-dot__inner").data(v=>[v]).join("circle").attr("class","parallax-dot__inner").attr("r",v=>v.r*.75).attr("fill",v=>v.color).attr("opacity",v=>Math.min(1,v.opacity*1.6)).attr("cx",0).attr("cy",0);let p=b.padding,x=0,g=0,y=()=>{x=0;let v=g;for(let _ of h)_.x<-p&&(_.x=i+p),_.x>i+p&&(_.x=-p),_.y<-p&&(_.y=a+p),_.y>a+p&&(_.y=-p);d.attr("transform",_=>{let{dx:w,dy:A}=Rn(_,v);return`translate(${_.x+w}, ${_.y+A})`})},E=()=>{x||(x=requestAnimationFrame(y))},M=Se(h).force("jitter",An(c)).velocityDecay(b.simulation.velocityDecay).alpha(b.simulation.alpha).alphaDecay(b.simulation.alphaDecay);return M.on("tick",()=>{g=performance.now()/1e3,E()}),{layer:t,simulation:M,destroy:()=>{x&&(cancelAnimationFrame(x),x=0)}}};var On=t=>{let{layers:e,motionQuery:r,container:n}=t,o=P(),i=new Map,a=qe("parallax",b.debug),s=()=>{let w=Math.max(1,document.documentElement.scrollHeight-window.innerHeight);return Math.min(1,Math.max(0,window.scrollY/w))},l={start:null,end:null},u=()=>{l.start=Ce(b.containerSize.start),l.end=Ce(b.containerSize.end)},c=w=>{if(l.start===null||l.end===null)return;let A=l.start+(l.end-l.start)*w;n.style.setProperty("--parallax-size",`${Math.max(0,A)}px`)},f=w=>{Y()&&(w.running||(w.simulation.alpha(b.simulation.alpha).restart(),w.running=!0))},m=w=>{w.running&&(w.simulation.stop(),w.running=!1)},h=null,d=()=>{h&&h.disconnect(),h=new IntersectionObserver(w=>{for(let A of w){let q=A.target,B=i.get(q);B&&(B.isVisible=A.isIntersecting,A.isIntersecting&&Y()?f(B):m(B))}},{root:null,rootMargin:"200px",threshold:.01});for(let w of e)h.observe(w)},p=()=>{u(),c(s());for(let w of i.values())m(w),w.destroy();i.clear();for(let[w,A]of e.entries()){let q=A.querySelector(T.parallaxLayerSvg);q&&q.remove();let B=Nn(w),it=Pn(A,B),Le=Y();Le||it.simulation.stop(),i.set(A,{...it,config:B,isVisible:!0,running:Le})}},x=!1,g=window.scrollY,y=()=>{let w=s();c(w);for(let A of i.values()){let{layer:q,config:B}=A,{speed:it}=B;q.style.transform=`translate3d(0, ${g*it}px, 0)`}x=!1},E=()=>{g=window.scrollY,x||(x=!0,requestAnimationFrame(y))},M=0,k=()=>{M&&cancelAnimationFrame(M),M=requestAnimationFrame(()=>{p(),E()})},v=()=>{let w=Y();a.info(`motion ${w?"enabled":"reduced"}`),p(),d()};return p(),d(),E(),o.addListener(window,"scroll",E,{passive:!0}),o.addListener(window,"resize",k),o.addListener(r,"change",v),{destroy:()=>{M&&(cancelAnimationFrame(M),M=0),h&&h.disconnect(),h=null;for(let w of i.values())m(w),w.destroy();i.clear(),o.disposeAll()}}};var zn=()=>{let t=L(b.containerSelector);if(!t)return;let e=`.${b.layerClassName}`,r=Math.max(1,b.layerParams.length),n=O(e,t);if(n.length!==r){n.forEach(l=>l.remove());for(let l=0;l<r;l+=1){let u=document.createElement("div");u.className=b.layerClassName,t.append(u)}}let o=window.matchMedia("(prefers-reduced-motion: reduce)"),i=P(),a=O(e,t);if(a.length===0)return;let s=On({container:t,layers:a,motionQuery:o});return i.add(s.destroy),()=>{i.disposeAll()}};var G={enabled:!0,desktopMediaQuery:"(width > 900px)",longTaskEntryType:"longtask",updateIntervalMs:1e3,labels:{cpu:"CPU",memory:"MEM",fps:"FPS"}};var sa=()=>{var a;let t=navigator.userAgentData;if((a=t==null?void 0:t.brands)!=null&&a.length){let s=t.brands,l=s.some(f=>f.brand==="Google Chrome"),u=s.some(f=>f.brand==="Microsoft Edge"),c=s.some(f=>f.brand==="Opera");return l&&!u&&!c}let e=navigator.userAgent,r=e.includes("Chrome"),n=e.includes("Edg/"),o=e.includes("OPR/"),i=e.includes("Brave");return r&&!n&&!o&&!i},Bn=()=>{var i;if(!G.enabled||!sa()||typeof PerformanceObserver=="undefined"||!((i=PerformanceObserver.supportedEntryTypes)!=null&&i.includes(G.longTaskEntryType))||!performance.memory)return;let e=window.matchMedia(G.desktopMediaQuery),r=null,n=()=>{if(!e.matches){r&&(r(),r=null);return}r||(r=la())},o=()=>n();return e.addEventListener("change",o),n(),()=>{e.removeEventListener("change",o),r&&r()}},la=()=>{let t=P(),e=document.createElement("div");e.className=tt.performanceHud;let r=h=>{let d=document.createElement("div");d.className=tt.performanceHudRow;let p=document.createElement("span");p.className=tt.performanceHudLabel,p.textContent=h;let x=document.createElement("span");return x.className=tt.performanceHudValue,x.textContent="...",d.append(p,x),{row:d,valueEl:x}},n=r(G.labels.cpu),o=r(G.labels.memory),i=r(G.labels.fps);e.append(n.row,o.row,i.row),document.body.appendChild(e),t.add(()=>e.remove());let a=0,s=new PerformanceObserver(h=>{h.getEntries().forEach(d=>{let p=d.duration;p>0&&(a+=p)})});s.observe({type:G.longTaskEntryType,buffered:!0}),t.add(()=>s.disconnect());let l=0,u=0,c=performance.now(),f=()=>{l+=1,u=requestAnimationFrame(f)};u=requestAnimationFrame(f),t.add(()=>cancelAnimationFrame(u));let m=()=>{let h=performance.now(),d=Math.max(1,h-c),p=Math.round(l*1e3/d),x=Math.min(100,Math.round(a/d*100));l=0,a=0,c=h;let g=performance.memory,y=g?Math.max(0,g.usedJSHeapSize)/1048576:0;n.valueEl.textContent=`${x}%`,o.valueEl.textContent=`${y.toFixed(1)} MB`,i.valueEl.textContent=`${p}`};return m(),t.addInterval(m,G.updateIntervalMs),t.disposeAll};var Dn=()=>{let t=L(T.headerLogoButton);if(!t)return;t.setAttribute("aria-pressed","false");let e=o=>{t.classList.toggle("is-expanded",o),t.setAttribute("aria-pressed",String(o))},r=()=>{t.classList.add("is-collapsing"),e(!1);let o=!1,i=()=>{o||(o=!0,t.classList.remove("is-collapsing"))},a=s=>{s.propertyName==="transform"&&i()};t.addEventListener("transitionend",a,{once:!0}),window.setTimeout(i,260)},n=()=>{t.classList.contains("is-expanded")?r():(t.classList.remove("is-collapsing"),e(!0))};return t.addEventListener("click",n),()=>{t.removeEventListener("click",n)}};var j={enabled:!0,sectionSelector:".desktop .list > .block",settleDelayMs:140,minDistancePx:12,duration:{minMs:220,maxMs:520,msPerPx:.45},easing:"easeInOutCubic"};var ua={easeInOutCubic:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,easeOutCubic:t=>1-Math.pow(1-t,3)},Hn=(t,e,r)=>Math.min(r,Math.max(e,t)),Fn=()=>{if(!j.enabled||!Y())return;let t=O(j.sectionSelector);if(t.length===0)return;let e=P(),r=t.map(g=>Math.round(g.getBoundingClientRect().top+window.scrollY)),n=0,o=0,i=!1,a="",s=g=>{let{minMs:y,maxMs:E,msPerPx:M}=j.duration;return Hn(g*M,y,E)},l=()=>{o&&(cancelAnimationFrame(o),o=0),i&&(document.documentElement.style.scrollBehavior=a,i=!1)},u=()=>{r=t.map(g=>Math.round(g.getBoundingClientRect().top+window.scrollY))},c=g=>{var M;let y=(M=r[0])!=null?M:0,E=Math.abs(g-y);for(let k=1;k<r.length;k+=1){let v=Math.abs(g-r[k]);v<E&&(E=v,y=r[k])}return{nearest:y,minDistance:E}},f=g=>{let y=window.scrollY,E=g-y,M=Math.abs(E);if(M<j.minDistancePx)return;l(),i=!0,a=document.documentElement.style.scrollBehavior,document.documentElement.style.scrollBehavior="auto";let k=performance.now(),v=s(M),_=ua[j.easing],w=A=>{let q=A-k,B=Hn(q/v,0,1),it=_(B);if(window.scrollTo(0,Math.round(y+E*it)),B<1){o=requestAnimationFrame(w);return}l()};o=requestAnimationFrame(w)},m=()=>{if(!Y()||i)return;let{nearest:g,minDistance:y}=c(window.scrollY);y<j.minDistancePx||f(g)},h=()=>{n&&window.clearTimeout(n),n=window.setTimeout(m,j.settleDelayMs)},d=()=>{i||h()},p=()=>{l(),h()},x=()=>{u(),h()};return u(),h(),e.addListener(window,"scroll",d,{passive:!0}),e.addListener(window,"resize",x),e.addListener(window,"wheel",p,{passive:!0}),e.addListener(window,"touchstart",p,{passive:!0}),e.addListener(window,"keydown",p),e.addListener(window,"load",u),()=>{n&&window.clearTimeout(n),l(),e.disposeAll()}};var qn=()=>{let t=L(T.storeMain);if(!t)return;let e=()=>{let r=window.scrollY<=1;t.classList.toggle("is-hidden",!r)};return window.addEventListener("scroll",e,{passive:!0}),e(),()=>{window.removeEventListener("scroll",e)}};var Yn=t=>{let{protocolLetters:e,baseIntervalMs:r,getRandomChar:n}=t,o=P(),i=!1,a,s,l,u=null,c=d=>{var g;if(i)return;if(e.length===0){d();return}i=!0,a&&(window.clearTimeout(a),a=void 0),s&&(window.clearInterval(s),s=void 0);let p=(g=Lt(e,u,10))!=null?g:e[0];u=p;let x=p.dataset.final||p.textContent||"";if(!x){i=!1,d();return}p.textContent=n(x),a=o.addTimeout(()=>{s=o.addInterval(()=>{let y=n();p.textContent=y},r),a=o.addTimeout(()=>{s&&(window.clearInterval(s),s=void 0),p.textContent=x,i=!1,d()},D.glitch.singleLetterDurationMs)},D.glitch.singleLetterDelayMs)},f=()=>{l&&window.clearTimeout(l);let d=D.glitch.singleLetterMinPauseMs+Math.random()*D.glitch.singleLetterJitterMs;l=o.addTimeout(()=>{c(f)},d)};return{start:()=>{f()},dispose:()=>{a&&window.clearTimeout(a),s&&window.clearInterval(s),l&&window.clearTimeout(l),a=void 0,s=void 0,l=void 0,o.disposeAll()}}};var $n=()=>{let t=L(T.protocolText),e=O(T.glitchLetters);if(e.length===0)return;let r=t?O(T.protocolTextLetters,t):[],n=D.glitch.baseIntervalMs,o=P(),i,a=(u="")=>Nt(Ct.glitchCharacters,u),s=()=>{let u=0,c=D.glitch.maxTicks,f=Array.from({length:e.length},(m,h)=>h+D.glitch.settleOffsetStart);i&&(window.clearInterval(i),i=void 0),i=o.addInterval(()=>{u++,e.forEach((m,h)=>{let d=m.dataset.final||m.textContent||"";u<f[h]?m.textContent=a():m.textContent=d}),u>c+e.length&&i&&(window.clearInterval(i),i=void 0)},n)};e.forEach(u=>{u.dataset.final=u.textContent||""}),s(),t&&t.addEventListener("click",s);let l=Yn({protocolLetters:r,baseIntervalMs:n,getRandomChar:a});return l.start(),()=>{t&&t.removeEventListener("click",s),l.dispose(),i&&window.clearInterval(i),i=void 0,o.disposeAll()}};var Wn=()=>{let t=P();t.add($n()),t.add(He()),t.add(qn()),t.add(Fe()),t.add(De()),t.add(Dn()),t.add(Fn()),t.add(zn()),t.add(Bn()),window.addEventListener("pagehide",t.disposeAll,{once:!0})};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Wn,{once:!0}):Wn();})();
